/**
* Author URI:  https://3dwebsitebuilder.com/
* Author : Keivan Kamali
*/

function wb3d_pre_change(a,f,b,c,d,g,h,l,p,n,e,m,k){1===a.change_status[l]&&0===a.set_end1[b]&&-1!=c?wb3d_change_slide(a,f,b,c,d,g,h,l,p,n,e,m,k):1===a.change_status[l]&&1===a.set_end1[b]&&(a.change_status[l]=0,a.set_end1[b]=0,a.framenum[b+"-"+d]=-1,a.framenum[b+"-"+c]=-1,a.putimagecanvas())}
function wb3d_start_change_slide(a,f,b,c,d,g,h,l,p,n){p=a.wb3d_ax[l];n=a.wb3d_ay[l];l=a.setting[g["slider_"+h]]["w_"+a.d]*p;g=a.setting[g["slider_"+h]]["h_"+a.d]*n;h=a.dataslide[f][a.los[f+"-"+d]][0]["E_"+a.d];f=b+"-";a.tsa=0;a.tsn=0;a.loc_x_activeslide[b]=0;if(-1!==c)if(a.vesid[f+d].style.transformOrigin="50% 50%",a.vesid[f+d].style.msTransformOrigin="50% 50%",a.vesid[f+c].style.transformOrigin="50% 50%",a.vesid[f+c].style.msTransformOrigin="50% 50%",a.vesid[f+c].style.transformStyle="preserve-3d",
a.vesid[f+d].style.transformStyle="preserve-3d",a.vesid[f+d].style.display="block",document.getElementById("wb3de-"+a.wb3d_id[b]).style.transformStyle="preserve-3d",document.getElementById("wb3df-"+a.wb3d_id[b]).style.perspective="600px",a.vesid[f+d].style.transform="",a.vesid[f+c].style.transform="",a.vesid[f+c].style.opacity="1",a.vesid[f+d].style.opacity="1",a.vesid[f+c].style.width=l+"px",a.vesid[f+d].style.width=l+"px",a.vesid[f+c].style.height=g+"px",a.vesid[f+d].style.height=g+"px",a.vesid[f+
d].style.zIndex="7",a.vesid[f+c].style.zIndex="8","3dbox_top"===h||"3dbox_bottom"===h||"rotatex"===h||"rotatey"===h){if("rotatex"===h||"rotatey"===h)g/=2;document.getElementById("wb3de-"+a.wb3d_id[b]).style.transform="translateZ(-"+g+"px)"}else if("3dbox_right"===h||"3dbox_left"===h)document.getElementById("wb3de-"+a.wb3d_id[b]).style.transform="translateZ(-"+l+"px)"}
function wb3d_setend1_func(a,f,b,c,d,g,h,l){f=b+"-";a.loc_x_activeslide[b]>=g&&(a.vesid[f+c].style.left="0px",a.vesid[f+c].style.top="0px",a.vesid[f+d].style.left="0px",a.vesid[f+d].style.top="0px",a.vesid[f+d].style.transform="",a.vesid[f+c].style.transform="",a.set_end1[b]=1,a.bk["change_slide_t_l"+b]=0,a.vesid[f+c].style.display="none",document.getElementById("wb3df-"+a.wb3d_id[b]).style.perspective="",document.getElementById("wb3dg-"+a.wb3d_id[b]).style.perspective="",document.getElementById("wb3de-"+
a.wb3d_id[b]).style.transform="",document.getElementById("wb3df-"+a.wb3d_id[b]).style.transform="",delete a.loc_x_activeslide[b])}
function wb3d_change_slide(a,f,b,c,d,g,h,l,p,n,e,m,k){void 0===a.loc_x_activeslide[b]&&wb3d_start_change_slide(a,f,b,c,d,e,m,l,p,n);a.loc_x_activeslide[b]+=20;if(0!=n){var r=a.wb3d_ax[l];var t=a.wb3d_ay[l]}e=b+"-";m=a.d;var q=a.dataslide[f][a.los[f+"-"+d]][0];void 0===k&&(k=q["E_"+m]);"to right"===k?(l=g*(a.loc_x_activeslide[b]-a.tsa)/1E3,a.vesid[e+c].style.left=l-1+"px",k=-g+g*(a.loc_x_activeslide[b]-a.tsn)/1E3,a.vesid[e+d].style.left=k+"px",wb3d_setend1_func(a,f,b,c,d,1E3,p,n)):"to left"===k?(l=
-g*(a.loc_x_activeslide[b]-a.tsa)/1E3,a.vesid[e+c].style.left=l+1+"px",k=g-g*(a.loc_x_activeslide[b]-a.tsn)/1E3,a.vesid[e+d].style.left=k+"px",wb3d_setend1_func(a,f,b,c,d,1E3,p,n)):"to top"===k?(q=-h*(a.loc_x_activeslide[b]-a.tsa)/1E3,a.loc_x_activeslide[b]>=a.tsa&&a.loc_x_activeslide[b]<1001+a.tsa&&(a.vesid[e+c].style.top=q+"px",q=h-h*(a.loc_x_activeslide[b]-a.tsn)/1E3,a.vesid[e+d].style.top=q+"px"),wb3d_setend1_func(a,f,b,c,d,1E3,p,n)):"to bottom"===k?(q=h*(a.loc_x_activeslide[b]-a.tsa)/1E3,a.loc_x_activeslide[b]>=
a.tsa&&a.loc_x_activeslide[b]<1001+a.tsa&&(a.vesid[e+c].style.top=q+"px",q=-h+h*(a.loc_x_activeslide[b]-a.tsn)/1E3,a.vesid[e+d].style.top=q+"px"),wb3d_setend1_func(a,f,b,c,d,1E3,p,n)):"rotatex"===k?(180>=a.loc_x_activeslide[b]?(a.vesid[e+d].style.display="none",a.vesid[e+c].style.transform="rotateX("+(a.loc_x_activeslide[b]-a.tsa)/2+"deg) "):(a.vesid[e+d].style.transform="rotateX("+(360+a.loc_x_activeslide[b]-a.tsa)/2+"deg) ",a.vesid[e+c].style.display="none",a.vesid[e+d].style.display=""),wb3d_setend1_func(a,
f,b,c,d,360,p,n)):"rotatey"===k?(180>=a.loc_x_activeslide[b]?(a.vesid[e+d].style.display="none",a.vesid[e+c].style.transform="rotateY("+(a.loc_x_activeslide[b]-a.tsa)/2+"deg) "):(a.vesid[e+d].style.transform="rotateY("+(360+a.loc_x_activeslide[b]-a.tsa)/2+"deg) ",a.vesid[e+c].style.display="none",a.vesid[e+d].style.display=""),wb3d_setend1_func(a,f,b,c,d,360,p,n)):"3dbox_top"===k?(370<a.loc_x_activeslide[b]&&(a.vesid[e+c].style.zIndex="6"),a.vesid[e+c].style.transform="rotateX("+a.loc_x_activeslide[b]/
6+"deg) translateZ("+h/2+"px)",a.vesid[e+d].style.transform="rotateX("+(270+a.loc_x_activeslide[b]/6)+"deg) translateZ("+h/2+"px) ",wb3d_setend1_func(a,f,b,c,d,540,p,n)):"3dbox_bottom"===k?(370<a.loc_x_activeslide[b]&&(a.vesid[e+c].style.zIndex="6"),a.vesid[e+c].style.transform="rotateX("+-a.loc_x_activeslide[b]/6+"deg) translateZ("+h/2+"px)",a.vesid[e+d].style.transform="rotateX("+(90-a.loc_x_activeslide[b]/6)+"deg) translateZ("+h/2+"px) ",wb3d_setend1_func(a,f,b,c,d,540,p,n)):"3dbox_right"===k?
(370<a.loc_x_activeslide[b]&&(a.vesid[e+c].style.zIndex="6"),a.vesid[e+c].style.transform="rotateY("+a.loc_x_activeslide[b]/6+"deg) translateZ("+g/2+"px)",a.vesid[e+d].style.transform="rotateY("+(270+a.loc_x_activeslide[b]/6)+"deg) translateZ("+g/2+"px) ",wb3d_setend1_func(a,f,b,c,d,540,p,n)):"3dbox_left"===k?(370<a.loc_x_activeslide[b]&&(a.vesid[e+c].style.zIndex="6"),a.vesid[e+c].style.transform="rotateY("+-a.loc_x_activeslide[b]/6+"deg) translateZ("+g/2+"px)",a.vesid[e+d].style.transform="rotateY("+
(90-a.loc_x_activeslide[b]/6)+"deg) translateZ("+g/2+"px) ",wb3d_setend1_func(a,f,b,c,d,540,p,n)):"width"===k?(q=g-g*(a.loc_x_activeslide[b]-a.tsa)/500,l=g*(a.loc_x_activeslide[b]-a.tsa)/1E3,a.loc_x_activeslide[b]>=a.tsa&&a.loc_x_activeslide[b]<1001+a.tsa&&(a.vesid[e+c].style.left=l+"px",a.vesid[e+c].style.width=q+"px"),wb3d_setend1_func(a,f,b,c,d,500,p,n)):"height"===k?(q=h-h*(a.loc_x_activeslide[b]-a.tsa)/500,l=h*(a.loc_x_activeslide[b]-a.tsa)/1E3,a.loc_x_activeslide[b]>=a.tsa&&a.loc_x_activeslide[b]<
1001+a.tsa&&(a.vesid[e+c].style.top=l+"px",a.vesid[e+c].style.height=q+"px"),wb3d_setend1_func(a,f,b,c,d,500,p,n)):"height_width"===k?(k=g-g*(a.loc_x_activeslide[b]-a.tsa)/500,l=g*(a.loc_x_activeslide[b]-a.tsa)/1E3,g=h-h*(a.loc_x_activeslide[b]-a.tsa)/500,h=h*(a.loc_x_activeslide[b]-a.tsa)/1E3,a.loc_x_activeslide[b]>=a.tsa&&a.loc_x_activeslide[b]<1001+a.tsa&&(a.vesid[e+c].style.top=h+"px",a.vesid[e+c].style.left=l+"px",a.vesid[e+c].style.height=g+"px",a.vesid[e+c].style.width=k+"px"),wb3d_setend1_func(a,
f,b,c,d,500,p,n)):"bottom_right"===k?(q=g*(a.loc_x_activeslide[b]-a.tsa)/1E3,m=h*(a.loc_x_activeslide[b]-a.tsa)/1E3,a.vesid[e+c].style.top=m+"px",a.vesid[e+c].style.left=q+"px",q=-g+g*a.loc_x_activeslide[b]/1E3,m=-h+h*a.loc_x_activeslide[b]/1E3,a.vesid[e+d].style.top=m+"px",a.vesid[e+d].style.left=q+"px",wb3d_setend1_func(a,f,b,c,d,1E3,p,n)):"top_left"===k?(q=-g*(a.loc_x_activeslide[b]-a.tsa)/1E3,m=-h*(a.loc_x_activeslide[b]-a.tsa)/1E3,a.vesid[e+c].style.top=m+"px",a.vesid[e+c].style.left=q+"px",
q=g-g*a.loc_x_activeslide[b]/1E3,m=h-h*a.loc_x_activeslide[b]/1E3,a.vesid[e+d].style.top=m+"px",a.vesid[e+d].style.left=q+"px",wb3d_setend1_func(a,f,b,c,d,1E3,p,n)):"none"===k?(wb3d_setend1_func(a,f,b,c,d,10,p,n),a.ajaxwb3d_reset[l]=1):"fade"===k?(a.vesid[e+c].style.opacity=1-(a.loc_x_activeslide[b]-a.tsa)/1E3,a.vesid[e+d].style.opacity=(a.loc_x_activeslide[b]-a.tsn)/1E3,wb3d_setend1_func(a,f,b,c,d,1E3,p,n)):(20>=a.loc_x_activeslide[b]?(m=a.gs[f][k],q=m.fX[0]-m.fX[m.max_p-1],m=m.fY[0]-m.fY[m.max_p-
1],0!=n&&(q*=r,m*=t),a.vesid[e+d].style.transformOrigin="0% 0%",a.vesid[e+d].style.left=q+"px",a.vesid[e+d].style.top=m+"px",a.vesid[e+d].style.zIndex="8",a.vesid[e+c].style.zIndex="7",a.bk_height[a.wb3d_id[e+d]]=h,a.bk_width[a.wb3d_id[e+d]]=g,a.bk_origin[a.wb3d_id[e+d]]=-1,a.change_slide[b]=0):a.change_slide[b]++,g=a.wb3d_id[e+d],h=a.change_slide[b]>=a.gs[f][k].max_f?a.pixel_frm[f+"-"+k+"-"+(a.gs[f][k].max_f-1)]:a.pixel_frm[f+"-"+k+"-"+a.change_slide[b]],m=a.gs[f][k],r=e=1,1==wb3d.wb3d_pro2&&(0!=
m.E[0][17]&&(e=m.E[17][h]/100),0!=m.E[0][18]&&(r=m.E[18][h]/100)),a.bk_ty[g]=e,a.bk_tx[g]=r,a.chenge_display[g]=1,a.chenge_details_obj[g]=-1,a.chenge_details_obj2[g]=-1,wb3d_set_style(f,a,h,0,k,0,0,0,0,0,0,g,g,"slide",0,0,0,0,0,l,0,0),a.change_slide[b]>a.gs[f][k].max_f&&wb3d_setend1_func(a,f,b,c,d,10,p,n))};