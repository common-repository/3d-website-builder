/**
* Author URI:  https://3dwebsitebuilder.com/
* Author : Keivan Kamali
*/
function wb3d_load_event_function(a){function g(b){for(var e=0,d=[],c=0;200>c&&void 0!==a.wb3d[c];c++){var f=a.wb3d[c];1==a.wb3dB[c]["vs_"+a.wb3dY[c]]&&1!=d[a.wb3dB[c]["PY2_"+a.d]]&&b>=a.vscrollS[f]-e&&(e+=a.scrollMaxY[f],d[a.wb3dB[c]["PY2_"+a.d]]=1)}return b+=e}function n(b,e,d,c,f,m,p,r,w,u){var q=f-b.vscroll[d],y=wb3d_balance(q*c,b);0===q||1===b.scrollstatus&&1!=u?setTimeout(function(){0===m&&k(d,r,0,p,0,e+"_0");b.lockwheel=0},100):(b.vscroll[d]+=y,k(d,r,0,p,0,e+"_0"),wb3d_set_scroll_ui(b,
m,d),setTimeout(function(){n(b,e,d,c,Math.round(f),m,p,r,w,u)},10))}function h(b,e,d,c,f,m,p,r,w){var u=b.vscroll[m];0>c&&u!=f?1!=b.lockwheel&&(b.lockwheel=1,f=t(b,e,d,c,f,m,p,r,w),n(b,d,m,b.setting[e].wheel_s,f,p,r,w,c)):0<c&&0!=u&&1!=b.lockwheel&&(b.lockwheel=1,f=t(b,e,d,c,f,m,p,r,w),n(b,d,m,b.setting[e].wheel_s,f,p,r,w,c))}function t(b,e,d,c,f,m,p,r,w){e=parseInt(b.setting[e]["h_"+b.d]*b.wb3d_ay[m]);void 0===b.deltaY[0]&&(b.deltaY[0]=0);d=parseInt(b.deltaY[0]%e);if(0>c){if(b=b.vscroll[m]+e,b>=
f)return f}else b=parseInt(b.vscroll[m]);f=wb3d_find_x_scroll(m,b);m=f.f;f=f.x;if(0>c)0==m?0>b-d?b=d:(c=parseInt((b-d)/e),b=c*e+d):1==m&&(c=parseInt((b-d-f)/e),b=c*e+d+f);else if(0==m){c=b-d;if(0>c)return 0;c%=e;0<c?b-=c:0==c&&(b-=e)}else if(2==m){c=b-d;if(0>c)return 0;c%=e;0<c?b-=c:0==c&&(b-=e)}else if(1==m){c=b-d;if(0>c)return 0;c=(c-f)%e;0<c?b-=c:0==c&&(b-=e)}return 0>b?0:b}function k(b,e,d,c,f,m){b=a.vscroll[m];b-=a.setting[c].wheel*d;0>=b?b=0:b>e&&(b=e);b=parseInt(b);a.vscroll[m]=parseInt(b);
if(0===f)for(d=0;d<a.cunter;d++)a.vscroll[d+"_0"]=parseInt(b);if(0===f){e=wb3d_find_x_scroll(m,b);e=e.x;a.vscrollM[m]=b-e;d=a.dataslide[c][a.los[c+"-"+a.activeslide[a.cu]]][0];if("main"===wb3d.flag)for(c=1;c<=d["bl_"+a.d];c++)jQuery("#wb3d_block_"+c).css("top",d["blt_"+c+"-"+a.d]-a.vscrollM["0_0"]+"px");if(0===f)for(d=0;d<a.cunter;d++)a.vscrollM[d+"_0"]=b-e}wb3d_set_scroll_ui(a,f,m)}document.addEventListener("mousedown",function(b){a.scrollstatus=1});wb3d_ontouchend_mouseup_document=function(b){"main"===
wb3d.flag&&(jQuery("#pointer_value_xy").addClass("wb3d_displaynone"),jQuery("#slider_p1").css("opacity",".1"),jQuery("#slider_k1").css("box-shadow","none"));a.mouseup=1;a.mouseSliderScroll=0;a.down_id=0;a.es_mousedown=-1;a.w_sc=0;a.mus=0;a.li_MouseDown=-1;a.scrollstatus=0;a.touchstart=0;a.scrollbar_status=0;a.es1_charStr=-1;a.scrollbar_status=0;a.scroll_num_id=0;a.drag_slide=-1;"main"===wb3d.flag&&(jQuery(".wb3d_draggable").draggable(),jQuery(".wb3d_draggable").draggable("enable"),jQuery(".wb3d_draggable_a").draggable(),
jQuery(".wb3d_draggable_a").draggable("enable"),"2px solid rgb(0, 0, 255)"===jQuery("#drag").css("border")&&0===a.lock_canvas&&(jQuery(".wb3d_draggable_s").draggable(),jQuery(".wb3d_draggable_s").draggable("enable")));wb3d_reset_drag_func();a.idmm=-1;a.idm=-1;a.idmm=-1;a.es_mousedown3=-1;a.es_mousedown4=-2;a.putimagecanvas();setTimeout(function(){a.putimagecanvas()},1E3)};wb3d_ontouchstart_onmousedown=function(b,e,d){a.es_mousedown3=d.id1;a.es_mousedown4=d.idg;a.scroll_down=d.id;a.level=d.level;a.scroll_sn=
d.sn;a.scroll_level=d.level;a.scroll_cu=d.cu;var c=d.id;a.w_sc=0;a.bk_frm[d.idmm]=a.framenum[d.idmm];a.bk_frm[d.idgm]=a.framenum[d.idgm];a.idmm=d.idmm;a.idm=d.idm;a.down_id=a.idmm;a.mousedown[d.idmm]=1;e=e.getBoundingClientRect();d.x=Number(b.clientX-e.left);d.y=Number(b.clientY-e.top);a.es1_x[a.idm]=d.x;a.es1_y[a.idm]=d.y;if(void 0!=a.mousedown_obj[d.id1])a.mousedown_obj[d.id1](b,d.id1,d.F,d.modd,d);a.mouse_downX[a.idmm]=a.bx;a.mouse_downY[a.idmm]=a.by;a.es1_changeX[c]=0;a.es1_changeY[c]=0;0!=d.level&&
(a.scroll_num_id=d.sn);wb3d_set_click(d,d.id);a.idmm=d.idmm;c=a.es_mousedownB=d.F;e=d.idmm;10===c["T_E"+a.d]&&wb3d_inheritance_click(e,a);0===d.level?0!=a.U_P[d.sn+"-"+d.id[0]+"-"+d.id[1]]&&(e=a.U_P[d.sn+"-"+d.id[0]+"-"+d.id[1]].split("-")[0],b=a.dataslide[d.sn][a.los[d.sn+"-"+d.id[0]]][a.lo_l[d.sn+"-"+d.id[0]+"-"+e]],e=d.cu+"_"+d.s+"-"+e,10===b["T_E"+a.d]&&wb3d_inheritance_click(e,a)):(0!=a.U_P[d.sn+"-"+d.id[3]+"-"+d.id[4]]&&(e=a.U_P[d.sn+"-"+d.id[3]+"-"+d.id[4]].split("-")[0],b=a.dataslide[d.sn][a.los[d.sn+
"-"+d.id[3]]][a.lo_l[d.sn+"-"+d.id[3]+"-"+e]],e=d.s+"-"+e,10===b["T_E"+a.d]&&wb3d_inheritance_click(e,a)),c=d.F0,e=d.idgm,10===c["T_E"+a.d]&&wb3d_inheritance_click(e,a));a.set_border=-1;return 0===c.selectable?!1:!0};for(var l=0;l<a.cunter;l++)document.getElementById("wb3dh_"+l).onmouseleave=function(b){a.bx=0;a.by=0},"main"===wb3d.flag&&(jQuery("#wb3dh_"+l).click(function(b){wb3d_clickmaincanvas(b,this)}),jQuery("#wb3dh_"+l).mousedown(function(b){wb3d_mousedownmaincanvas(b,this)}),jQuery("#wb3dh_"+
l).mouseup(function(b){wb3d_mouseupmaincanvas(b)}),document.getElementById("pointer_value_xy").onmousemove=function(b){wb3d_labelMove()}),document.getElementById("wb3dh_"+l).onmousemove=function(b){wb3d_handleMouseMove(b);"main"===wb3d.flag&&wb3d_labelMove()},wb3d_labelMove=function(){"main"===wb3d.flag&&(document.getElementById("pointer_value_xy").innerHTML="x1 : "+~~a.xpositionrightclick+",y1 : "+~~a.ypositionrightclick+" ----- x2 : "+~~a.bx+",y2 : "+~~a.by,document.getElementById("pointer_value_xy").style.left=
a.bx+10+"px",document.getElementById("pointer_value_xy").style.top=a.by-5+"px")},wb3d_handleMouseMove=function(b,e,d){1!=b?(e=b.clientX,d=b.clientY,b=document.getElementById("wb3dh_0").getBoundingClientRect(),a.bx=Number(e-b.left),a.by=Number(d-b.top)):(a.bx=e,a.by=d);1===a.scrollstatus&&wb3d_onMove_scrollbar();"Curved"===a.painttools&&1===a.mouse_down_canvas&&3===a.startCurved&&(a.bentx=a.bx-a.left,a.benty=a.by-a.top);"demo"!==wb3d.flag||-1==a.es_mousedown3&&-2==a.es_mousedown4||(e=a.bx-a.mouse_downX[a.idmm],
d=a.by-a.mouse_downY[a.idmm],-2!=a.es_mousedown4&&a.idg===a.es_mousedown4&&(a.es1_changeY[a.idgm]=d,a.es1_changeX[a.idgm]=e),b=a.es_mousedownB,-1!=a.es_mousedown3&&6<=b["T_E"+a.d]&&9>=b["T_E"+a.d]&&(a.es1_changeX[a.idmm]=e,a.es1_changeY[a.idmm]=d))};wb3d_check_tag=function(b,e,d){var c={flag:0};if(void 0===b.target.id||""===b.target.id)return c;var f=b.target.id.split("-")[1];b=e.id.split("-")[1];e=a.wb3d_ids[b].split("_")[0];if(e!=a.cu)return c;f=a.wb3d_ids[f].split("_")[1];var m=a.wb3d_ids[b].split("_")[1];
c.flag=void 0===f||void 0===m||m!=f?0:1;if(0===c.flag)return c;c.id1=b;c.id=m;c.cu=e;c.id=c.id.split("-");c.sn=a.sn[e+"-0"];b=c.sn;c.F=a.dataslide[b][a.los[b+"-"+c.id[0]]][a.lo_l[b+"-"+c.id[0]+"-"+c.id[1]]];c.F0=c.F;1!=d&&(void 0===c.id[2]?a.hover_slide=c.id[0]:"wb3d"===c.F["type_"+c.id[2]]?(a.mouseenter[e+"_"+c.id[0]+"-"+c.id[1]]=1,a.hover_slide=c.id[0]+"-"+c.id[1]+"-"+c.id[2]+"-"+a.activeslide[e+"_"+a.wb3d_id[a.cu+"_"+c.id[0]+"-"+c.id[1]+"-"+c.id[2]]]):void 0===c.id[3]?a.hover_slide=c.id[0]:(a.mouseenter[e+
"_"+c.id[0]+"-"+c.id[1]]=1,a.hover_slide=c.id[0]+"-"+c.id[1]+"-"+c.id[2]+"-"+a.activeslide[e+"_"+a.wb3d_id[a.cu+"_"+c.id[0]+"-"+c.id[1]+"-"+c.id[2]]]));c.eff=c.F["EB_"+a.d];void 0===c.id[4]?(c.level=0,c.s=c.id[0],c.idmm=e+"_"+c.id[0]+"-"+c.id[1],c.idm=c.idmm+"-"+c.id[2],c.modd=c.id[2],c.idg=-1,c.idgm=-1):(c.sn=c.F["slider_"+c.id[2]],c.level=1,c.s=e+"_"+c.id[0]+"-"+c.id[1]+"-"+c.id[2]+"-"+c.id[3],c.idmm=c.s+"-"+c.id[4],c.idgm=e+"_"+c.id[0]+"-"+c.id[1],c.idm=c.idmm+"-"+c.id[5],c.idg=a.wb3d_id[e+"_"+
c.id[0]+"-"+c.id[1]+"-"+c.id[2]],c.modd=c.id[5],c.F=a.dataslide[c.sn][a.los[c.sn+"-"+c.id[3]]][a.lo_l[c.sn+"-"+c.id[3]+"-"+c.id[4]]]);a.rsn=c.sn;a.idmm=c.idmm;a.idg=c.idg;a.idgm=c.idgm;a.F=c.F;a.F0=c.F0;a.idm=c.idm;a.id1=c.id1;a.es_mousedownB=c.F;a.set_border=-1;return c};wb3d_set_click=function(b,e){9===b.F.l_type&&(a.bk_tab[b.cu+"_"+b.s]=b.F.tab,a.chenge_details_obj2=[],a.chenge_display=[]);e=b.cu;"main"===wb3d.flag&&0===a.lock_effect&&(a.previous_openingeffectselect=jQuery("#openingeffectselect").val(),
1==wb3d.wb3d_pro2&&"-1"!=a.previous_openingeffectselect&&wb3d_remove_selectet_effect_token(a.previous_openingeffectselect,a),jQuery("#openingeffectselect").val(a.F0["EB_"+a.d]),1==wb3d.wb3d_pro2&&"-1"!=a.F0["EB_"+a.d]&&wb3d_create_selected_effect_token(a.F0["EB_"+a.d],a),a.previous_openingeffectselect=a.F0["EB_"+a.d]);"main"===wb3d.flag&&wb3d_valueset(a);a.activeslide[e]===b.id[0]?(a.activeslide[e]=b.id[0],a.s_l=b.id[1],a.s_o=b.id[2],"main"===wb3d.flag&&wb3d_set_slide_value(a.activeslide[e],0,a)):
(a.s_l=-1,a.s_o=-1);var d=b.F.click_type;if(10===d){var c=b.cu+"_"+b.id[0]+"-"+b.F.click_link;var f=a.bk_mode[c];if(void 0===a.bk_mode[c]||-1===a.bk_mode[c])f=b.F.obj_num_0;if("main"===wb3d.flag&&0===b.level)return;c=b.cu+"_0";if(0===b.level)f=document.getElementById("wb3de-"+a.wb3d_id[b.cu+"_"+b.id[0]+"-"+b.F.click_link+"-"+f]),f=f.getBoundingClientRect().top+document.documentElement.scrollTop,0>f&&(f=0),f>a.scrollMaxY[b.cu+"_0"]&&(f=a.scrollMaxY[b.cu+"_0"]),f=g(f);else{if(1===b.F0["vs_"+b.id[2]])return;
f=document.getElementById("wb3dg-"+a.wb3d_id[b.cu+"_"+b.id[0]+"-"+b.id[1]+"-"+b.id[2]+"-"+b.id[3]+"-"+b.F.click_link+"-"+f]);f=parseInt(f.offsetTop)+parseInt(a.try[b.cu+"_"+b.id[0]+"-"+b.id[1]+"-"+b.id[2]+"-"+b.id[3]+"-"+b.F.click_link])+a.vscroll[e+"_"+b.idg];0>f?f=0:f>a.scrollMaxY[b.cu+"_"+b.idg]&&(f=a.scrollMaxY[b.cu+"_"+b.idg]);c=b.cu+"_"+b.idg}1!=a.lockwheel&&(a.lockwheel=1,n(a,b.cu,c,a.setting[b.sn].wheel_s,f,b.level,b.sn,parseInt(a.scrollMaxY[e+"_0"])+a.MaXvscroll,0,1))}2===d&&1===b.level&&
(c=b.idmm.split("_")[1],c=c.split("-"),wb3d_ajaxwb3d_c(a,b.sn,c[0],c[1],c[2],c[3],b.F,-2,e+"_"+b.idg,b.F.click_link,b.cu,1));3!==d&&4!==d||1!==b.level||(c=b.idmm.split("_")[1],c=c.split("-"),f=-1,4===d&&(f=-2),wb3d_ajaxwb3d_c(a,b.sn,c[0],c[1],c[2],c[3],b.F,-2,e+"_"+b.idg,f,b.cu,1));11<=d&&20>=d&&(d-=11,a.sColortable=d,"main"!=wb3d.flag&&localStorage.setItem("lStorage_colortable",d),wb3d_set_colortable(),wb3d_reset_data_slider(a.activeslide[a.cu],0,1))};wb3d_mousedownmaincanvas=function(b,e){e=jQuery("#openingeffectselect").val();
"main"===wb3d.flag&&jQuery("#pointer_value_xy").removeClass("wb3d_displaynone");var d=a.sn["0-0"];if(-1!==e&&void 0!==e){var c=a.gs[d][e],f=document.getElementById("wb3dh_0").getBoundingClientRect();a.xpositionrightclick=Number(b.clientX-f.left);a.ypositionrightclick=Number(b.clientY-f.top);a.bx=Number(b.clientX-f.left);a.by=Number(b.clientY-f.top);wb3d_labelMove();if("Curved"===a.painttools&&0===a.startCurved||"straight"===a.painttools)"dis_c_effect"===a.d_c_effect||0===c.max_p?(a.mousexendCurved1=
a.xpositionrightclick-a.left,a.mouseyendCurved1=a.ypositionrightclick-a.top):0!=c.max_p&&(a.mousexendCurved1=a.endpointx[d+"-"+e],a.mouseyendCurved1=a.endpointy[d+"-"+e]);"Curved"===a.painttools&&0===a.startCurved&&(a.startCurved=1);"Curved"===a.painttools&&22===a.startCurved&&(a.startCurved=3,a.bentx=(a.mousexendCurved1+a.mousexendCurved2)/2,a.benty=(a.mouseyendCurved1+a.mouseyendCurved2)/2);a.mouse_down_canvas=1}};wb3d_mouseupmaincanvas=function(b){var e=a.sn["0-0"];a.mouse_down_canvas=0;a.scrollbar_status=
0;var d=jQuery("#openingeffectselect").val();if(-1!==d){var c=a.gs[e][d];var f=document.getElementById("wb3dh_0").getBoundingClientRect();var m=a.xpositionrightclick,p=a.ypositionrightclick;a.xpositionrightclick=Number(b.clientX-f.left);a.ypositionrightclick=Number(b.clientY-f.top);f=a.xpositionrightclick;var r=a.ypositionrightclick;if(1==wb3d.wb3d_pro2){if("Curved"===a.painttools&&1===a.startCurved||"straight"===a.painttools)a.mousexendCurved2=f-a.left,a.mouseyendCurved2=r-a.top;"Curved"===a.painttools&&
1===a.startCurved&&(a.bentx=(a.mousexendCurved1+a.mousexendCurved2)/2,a.benty=(a.mouseyendCurved1+a.mouseyendCurved2)/2,a.startCurved=22);"Curved"===a.painttools&&3===a.startCurved&&(a.startCurved=0,b=a.t_p[e+"-"+d],c.fxx[b+"-T"]="Curved",c.fxx[b+1+"-T"]="Curved",c.fxx[b+2+"-T"]="Curved",c.fxx[b+"-g"]=c.max_p,c.fxx[b]=a.mousexendCurved1,c.fyy[b]=a.mouseyendCurved1,c.fxx[b+1]=a.mousexendCurved2,c.fyy[b+1]=a.mouseyendCurved2,c.fxx[b+2]=a.bentx,c.fyy[b+2]=a.benty,c.fxx[b+"-M"]=a.bentx+a.left,c.fyy[b+
"-M"]=a.benty+a.top,a.t_p[e+"-"+d]+=3,wb3d_bezier2(.01,c.fxx[b],c.fyy[b],c.fxx[b+2],c.fyy[b+2],c.fxx[b+1],c.fyy[b+1],d,1,e,c,a),a.blz=0);if("straight"===a.painttools){if(b=a.t_p[e+"-"+d],3<=Math.abs(m-f)||3<=Math.abs(p-r))"dis_c_effect"===a.d_c_effect||0===c.max_p?(c.fxx[b]=m-a.left,c.fyy[b]=p-a.top):(c.fxx[b]=a.endpointx[e+"-"+d],c.fyy[b]=a.endpointy[e+"-"+d]),a.endpointx[e+"-"+d]=a.xpositionrightclick-a.left,a.endpointy[e+"-"+d]=a.ypositionrightclick-a.top,c.fxx[b+"-T"]="line",c.fxx[b+1+"-T"]="line",
c.fxx[b+"-g"]=c.max_p,c.fxx[b+1]=f-a.left,c.fyy[b+1]=r-a.top,a.t_p[e+"-"+d]+=2,wb3d_linexy(c.fxx[b],c.fyy[b],c.fxx[b+1],c.fyy[b+1],d,1,e,c,a)}else if("stop"===a.painttools){b=a.t_p[e+"-"+d];c.fxx[b+"-T"]="stop";"dis_c_effect"===a.d_c_effect||0===c.max_p?(c.fxx[b]=m-a.left,c.fyy[b]=p-a.top):(c.fxx[b]=a.endpointx[e+"-"+d],c.fyy[b]=a.endpointy[e+"-"+d]);f=Number(jQuery("#stop_spinner").val());c.fxx[b+"-N"]=f;a.endpointx[e+"-"+d]=c.fxx[b];a.endpointy[e+"-"+d]=c.fyy[b];1>f&&(f=1);c.fxx[b+"-g"]=c.max_p;
for(m=0;m<f;m++)wb3d_xy(a.xpositionrightclick-a.left,a.ypositionrightclick-a.top,c.max_p,d,e,c,a),wb3d_set_values(d,c.max_p,0,c),c.max_p++;a.t_p[e+"-"+d]++}"main"===wb3d.flag&&(wb3d_saveeffectframerat(d,e,a.gs[e][d],a),a.db_effect[e][d]=wb3d_save_effect(a,d,0,1),a.gs[e][d]=new wb3d_compile_effect(a.db_effect[e][d],e,a,1),wb3d_saveeffectframerat(d,e,a.gs[e][d],a))}a.chenge_details_obj=[];a.mousestatuse=0;a.putimagecanvas()}};wb3d_clickmaincanvas=function(b,e){if(""===b.target.id||void 0===b.target.id||
void 0===b.target.id.split("maincanvas-")[1]||"undefined"===e.id||void 0===b.target.id.split("-")[0])return 0;b.target.id.split("-")[1]==e.id.split("-")[1]&&(b=b||window.event,e=document.getElementById("wb3dh_0").getBoundingClientRect(),a.xpositionrightclick=Number(b.clientX-e.left),a.ypositionrightclick=Number(b.clientY-e.top),wb3d_set_disable())};document.ontouchend=function(b){wb3d_ontouchend_mouseup_document()};document.addEventListener("mouseup",function(b){wb3d_ontouchend_mouseup_document(b)});
wb3d_reset_drag_func=function(b){a.idm=-1;a.idmm=-1;a.es_mousedown3=-1;a.es_mousedown4=-2};wb3d_wheel2=function(b,e){a.lock_scroll_w_h=1;a.timer_scroll_w_h=250;wb3d_timer_scroll_lock_w_h();if(1===a.lockwheel)b.preventDefault&&b.preventDefault();else{var d=a.cu;-1!=e&&1!=e&&(b.wheelDelta?e=b.wheelDelta/120:b.detail&&(e=-b.detail/3));var c=a.d;-1===a.hover_slide&&(a.hover_slide=a.activeslide[d]+"-");var f=a.sn[d+"-0"];var m=a.sn[d+"-0"],p=a.hover_slide.split("-"),r=d+"_"+a.activeslide[d],w=d+"_"+a.activeslide[d],
u=c="main"===wb3d.flag?parseInt(a.setting[f]["vmaxsc-"+c]):parseInt(a.scrollMaxY[d+"_0"])+a.MaXvscroll;a.first=a.vscrollM["0_0"];if(isNaN(a.vscroll["0_0"])||isNaN(a.vscrollM["0_0"])){var q=document.body.scrollTop;(isNaN(q)||0===q)&&0<document.documentElement.scrollTop&&(q=document.documentElement.scrollTop);q=parseInt(q)+2;var y=g(q);a.vscroll["0_0"]=y;a.vscrollM["0_0"]=q}if(void 0===p[2])1===a.setting[f].wheel_c&&"main"!=wb3d.flag&&(0>e&&a.vscroll[d+"_0"]!=c||0<e&&0!=a.vscroll[d+"_0"])&&h(a,f,d,
e,c,d+"_0",0,m,u),k(r,c,e,f,0,d+"_0"),b.preventDefault&&b.preventDefault(),b.preventDefault();else{y=a.dataslide[f][a.los[f+"-"+p[0]]][a.lo_l[f+"-"+p[0]+"-"+p[1]]];f=y["slider_"+p[2]];var v=a.hover_slide.split("-");q=d+"_"+a.wb3d_id[d+"_"+v[0]+"-"+v[1]+"-"+v[2]];if(isNaN(a.vscroll[q])||isNaN(a.vscrollM[q]))a.vscroll[q]=0,a.vscrollM[q]=0;r=d+"_"+v[0]+"-"+v[1]+"-"+v[2]+"-"+a.activeslide[q];c=a.scrollMaxY[q];if(1!==a.change_status[q]){if(1===y["sc_"+p[2]]&&1===wb3d_ajaxwb3d_c(a,f,v[0],v[1],v[2],v[3],
y,v[2],q,0>e?-1:-2,d,1)){b.preventDefault&&b.preventDefault();b.returnValue=!1;b.stopPropagation();return}(0>e&&a.vscroll[q]<a.scrollMaxY[q]||0<e&&0!=a.vscroll[q])&&0===y["vs_"+p[2]]?1!=a.setting[f].wheel_c||1===a.setting[f].wheel_c&&"main"===wb3d.flag?k(r,c,e,f,1,q):h(a,f,d,e,a.scrollMaxY[q],q,1,m,u):1===a.setting[m].wheel_c&&"main"!=wb3d.flag?h(a,m,d,e,u,"0_0",0,m,u):k(w,u,e,m,0,d+"_0")}b.preventDefault&&b.preventDefault()}}b.returnValue=!1;b.stopPropagation()};"main"!=wb3d.flag&&(document.addEventListener("touchstart",
function(b){b=b.touches[0];a.starty=parseInt(b.clientY);a.startx=parseInt(b.clientX);a.touchstart_scroll=a.vscroll["0_0"]},{passive:!1}),document.addEventListener("touchend",function(b){},{passive:!1}),document.addEventListener("touchmove",function(b){var e=a.sn["0-0"],d=b.changedTouches[0],c=parseInt(d.clientY);d=parseInt(d.clientX);a.disty=c-a.starty;a.distx=c-a.startx;1===a.mouseSliderScroll?(b.stopPropagation(),wb3d_handleMouseMove(1,d,c),b.preventDefault()):1!==a.setting[e].touch&&(b.stopPropagation(),
b.preventDefault(),a.vscroll["0_0"]=a.touchstart_scroll-a.disty,b=parseInt(a.scrollMaxY["0_0"])+a.MaXvscroll,0>a.vscroll["0_0"]?a.vscroll["0_0"]=0:a.vscroll["0_0"]>b&&(a.vscroll["0_0"]=b),x=wb3d_find_x_scroll("0_0",a.vscroll["0_0"]),x=x.x,a.vscrollM["0_0"]=a.vscroll["0_0"]-x)},{passive:!1}),document.addEventListener("wheel",function(b){b.preventDefault();a.hover_slide=a.activeslide[0]+"-";wb3d_wheel2(b)},{passive:!1}),document.addEventListener("mousewheel",function(b){b.preventDefault();a.hover_slide=
a.activeslide[0]+"-";wb3d_wheel2(b)},{passive:!1}),document.addEventListener("DOMMouseScroll",function(b){b.preventDefault();a.hover_slide=a.activeslide[0]+"-";wb3d_wheel2(b)},{passive:!1}),document.addEventListener("onmousewheel",function(b){b.preventDefault();a.hover_slide=a.activeslide[0]+"-";wb3d_wheel2(b)}));wb3d_find_x_scroll=function(b,e){for(var d=b=0,c={},f=[],m=0;200>m&&void 0!==a.wb3d[m];m++){var p=a.wb3d[m];1==a.wb3dB[m]["vs_"+a.wb3dY[m]]&&1!=f[a.wb3dB[m]["PY2_"+a.d]]&&(e>=a.vscrollS[p]+
a.scrollMaxY[p]?(b+=a.scrollMaxY[p],d=1,f[a.wb3dB[m]["PY2_"+a.d]]=1):e>=a.vscrollS[p]&&e<=a.vscrollS[p]+a.scrollMaxY[p]&&(b+=e-a.vscrollS[p],d=2,f[a.wb3dB[m]["PY2_"+a.d]]=1))}c.x=b;c.f=d;return c}}
function wb3d_create_event_slide(a,g,n,h,t){a.vesid[a.wb3d_ids[g]].addEventListener("mousedown",function(k){if(""===k.target.id||void 0===k.target.id)return 0;k=a.wb3d_ids[k.target.id.split("-")[1]];var l=a.wb3d_ids[this.id.split("-")[1]];if(void 0===k||void 0===l)return 0;var b=l.split("_")[0];l=l.split("_")[1];k=k.split("_")[1];if(b==a.cu){l+="-";k+="-";if(void 0===k||void 0===l||l!=k)return 0;l=l.split("-");"main"===wb3d.flag&&jQuery("#layers_object").empty();void 0!=l[3]?(a.activeslide[b]=l[0],
a.s_l=l[1],a.s_o=l[2],a.idmm=b+"_"+l[0]+"-"+l[1],a.set_border=-1,a.putimagecanvas(),"main"===wb3d.flag&&(wb3d_valueset(a),wb3d_set_slide_value(l[0],0,a))):(a.s_l=-1,a.s_o=-1,"main"===wb3d.flag&&(jQuery(" .move").css("display","none"),jQuery(".ves_li").css("border","1px solid black"),wb3d_set_disable(),wb3d_set_slide_value(l[0],0,a)))}});0!=t&&(document.getElementById("wb3dh-"+g).onmouseleave=function(k){if(""===k.target.id)return 0;k=a.wb3d_ids[k.target.id.split("-")[1]];var l=a.wb3d_ids[this.id.split("-")[1]],
b=l.split("_")[0];l=l.split("_")[1];k=k.split("_")[1];l=l.split("-");k=k.split("-");a.cu==b&&l[0]+"-"+l[1]+"-"+l[2]+"-"+l[3]==k[0]+"-"+k[1]+"-"+k[2]+"-"+k[3]&&(a.onslidemousemove=-1,a.mouseenter[b+"_"+l[0]+"-"+l[1]]=0)});0===t&&(document.getElementById("wb3dh-"+g).onmousedown=function(k){if(""===k.target.id||void 0===k.target.id)return 0;var l=a.wb3d_ids[k.target.id.split("-")[1]];k=a.wb3d_ids[this.id.split("-")[1]];if(void 0===l||void 0===k)return 0;k=k.split("_")[1];l=l.split("_")[1];k==l&&(k=k.split("-"),
void 0!=k[3]&&(l=a.sn[h+"-0"],10===a.dataslide[l][a.los[l+"-"+k[0]]][a.lo_l[l+"-"+k[0]+"-"+k[1]]]["T_E"+a.d]&&wb3d_inheritance_click(a.cu+"_"+k[0]+"-"+k[1],a)))});0===t&&(document.getElementById("wb3dh-"+g).onmouseleave=function(k){if(""===k.target.id||void 0===k.target.id)return 0;k=a.wb3d_ids[k.target.id.split("-")[1]];var l=a.wb3d_ids[this.id.split("-")[1]];if(void 0===k||void 0===l)return 0;l=l.split("_")[1];k=k.split("_")[1];l==k&&(a.mouselayerselect=1,a.mouseenter[a.cu]=-1)});"main"===wb3d.flag&&
0===t&&(document.getElementById("maincanvas-"+g).onmouseover=function(k){if(""===k.target.id||void 0===k.target.id)return 0;k=a.wb3d_ids[k.target.id.split("-")[1]];var l=a.wb3d_ids[this.id.split("-")[1]],b=l.split("_")[0];l=l.split("_")[1];k=k.split("_")[1];l==k&&(a.mouselayerselect=1,a.mouseenter[b]=a.wb3d_ids[this.id.split("maincanvas-")[1]])});document.getElementById("wb3dh-"+g).onmouseover=function(k){if(""===k.target.id||void 0===k.target.id)return 0;k=a.wb3d_ids[k.target.id.split("-")[1]];var l=
a.wb3d_ids[this.id.split("-")[1]],b=l.split("_")[0];if(void 0===k||void 0===l)return 0;l=l.split("_")[1];k=k.split("_")[1];if(l!=k)return 0;a.mouselayerselect=1;a.mouseenter[b]=a.wb3d_ids[this.id.split("maincanvas-")[1]];l=(l+"-").split("-");void 0===l[2]?(a.hover_slide=a.activeslide[b],a.onslidemousemove=-1):(a.mouseenter[b+"_"+l[0]+"-"+l[1]]=1,a.hover_slide=l[0]+"-"+l[1]+"-"+l[2]+"-"+l[3],a.onslidemousemove=a.wb3d_ids[this.id.split("-")[1]])};"main"===wb3d.flag&&0===t&&(a.canvasArray[a.wb3d_ids[g]]=
document.getElementById("maincanvas-"+g),a.ctxarray[a.wb3d_ids[g]]=a.canvasArray[a.wb3d_ids[g]].getContext("2d"))}function wb3d_scroll_event(a,g,n){g.wheel[a]=document.getElementById(n);g.wheel[a].addEventListener("wheel",wb3d_wheel2);g.wheel[a].addEventListener("mousewheel",wb3d_wheel2);g.wheel[a].addEventListener("DOMMouseScroll",wb3d_wheel2);g.wheel[a].addEventListener("onmousewheel",wb3d_wheel2)}
function wb3d_functions_event(a){window.onfocus=function(){a.es1_Tab=1};window.onblur=function(){a.es1_Tab=0};document.onkeypress=function(g){"main"===wb3d.flag&&(jQuery("#es_pressKey").val(g.key),jQuery("#es_pressKey2").val(g.key),jQuery("#es_pressKey2_c").val(g.key),jQuery("#es_pressKey2_b").val(g.key));a.es1_key=Number(g.charCode);a.tmp_es1_charStr=Number(g.charCode)};"main"===wb3d.flag&&(window.onresize=function(){wb3d_scroll_tab_leftmenu(a.tab_leftmenu,a)})}
function wb3d_events(a,g){document.getElementById(a).onmousemove=function(n){if(1!==g.mouseSliderScroll){var h=wb3d_check_tag(n,this);if(0!==h.flag&&void 0!==h.flag){g.onmousemovelayer=h.idmm;var t=this.getBoundingClientRect();h.x=n.clientX-t.left;h.y=n.clientY-t.top;g.es1_x[h.idm]=h.x;g.es1_y[h.idm]=h.y;1===h.level&&(g.onslidemousemove=h.s);if(void 0!=g.mousemove_obj[h.id1])g.mousemove_obj[h.id1](n,h.id1,h.F,h.modd,h.sn,h)}}};document.getElementById(a).onmouseenter=function(n){if(1!==g.mouseSliderScroll){var h=
wb3d_check_tag(n,this);if(0!==h.flag&&void 0!==h.flag){g.mouseenter[h.idmm]=1;g.onmousemovelayer=h.idmm;g.hover_id[h.idmm]=1;11===g.F["T_E"+g.d]&&(g.bk_pluse[h.idmm]=1);1===h.level&&(g.onslidemousemove=h.s);var t=h.F.click_type;5===t?g.move_scroll_x++:6===t&&g.move_scroll_y++;if(void 0!=g.mouseenter_obj[h.id1])g.mouseenter_obj[h.id1](n,h.id1,h.F,h.modd,this);n.stopPropagation()}}};document.getElementById(a).onmouseleave=function(n){if(1!==g.mouseSliderScroll){var h=wb3d_check_tag(n,this,1);if(0!==
h.flag&&void 0!==h.flag){g.mouseenter[h.idmm]=-1;g.onmousemovelayer=-1;11===g.F["T_E"+g.d]&&(g.bk_pluse[h.idmm]=-1);11===g.F["T_E"+g.d]&&(g.bk_pluse[h.idmm]=-1);if(void 0!=g.mouseleave_obj[h.id1])g.mouseleave_obj[h.id1](n,h.id1,0,0);n.stopPropagation()}}};document.getElementById(a).ontouchend=function(n){var h=wb3d_check_tag(n,this);if(0!==h.flag&&void 0!==h.flag){g.click1=h.idmm;g.mouseenter[h.idmm]=1;g.hover_id[h.idmm]=1;g.es_mousedown=-1;g.down_id=0;if(void 0!=g.mouseup_obj[h.id1])g.mouseup_obj[h.id1](n,
h.id1);g.mousedown[h.idmm]=0}};document.getElementById(a).onmouseup=function(n){var h=wb3d_check_tag(n,this);if(0!==h.flag&&void 0!==h.flag){g.click1=h.idmm;g.mouseenter[h.idmm]=1;g.hover_id[h.idmm]=1;g.es_mousedown=-1;g.down_id=0;if(void 0!=g.mouseup_obj[h.id1])g.mouseup_obj[h.id1](n,h.id1);g.mousedown[h.idmm]=0}};document.getElementById(a).ontouchstart=function(n){var h=wb3d_check_tag(n,this);if(0===h.flag||void 0===h.flag)return 1;wb3d_ontouchstart_onmousedown(n,this,h);return!0};document.getElementById(a).onmousedown=
function(n){var h=wb3d_check_tag(n,this);return 0===h.flag||void 0===h.flag?1:wb3d_ontouchstart_onmousedown(n,this,h)};if(void 0!=g.event_obj[a.split("-")[1]])g.event_obj[a.split("-")[1]](a,g)}function wb3d_inheritance_click(a,g){g.bk_pluse[a]=1===g.bk_pluse[a]?-1:-1===g.bk_pluse[a]?1:0===g.framenum[a]?1:-1};