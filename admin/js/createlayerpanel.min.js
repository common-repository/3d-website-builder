/**
* Author URI:  https://3dwebsitebuilder.com/
* Author : Keivan Kamali
*/
function wb3d_create_slide_button(c,b){var d=b.sn["0-0"],h="#24a97e",a,e,g="left";1==wb3d.rtl&&(g="right");var k='<div id="demoslide-'+c+'" class="ui-state-default" style="border:0px solid red; background-color:transparent;z-index:999; height:80px;width:110px; position: relative;margin:10px 2px 5px 2px;"><div id="demo0-'+(c+'" class="slide_c pointer imgbuttom" style="z-index:996;background-image:url('+wb3d.wb3d_plagin_images_URL+"desktop.png);background-size:100% 100%;width:106px;height: 76px;position: absolute;top:3px;"+
g+':3px">');k=k+'</div><div id="demo1-'+(c+'" class="slide_c pointer imgbuttom" style="z-index:998; background-image:url('+wb3d.wb3d_plagin_images_URL+"htablet.png);background-size:100% 100%;width:60px;height: 45px;position: absolute;top:40px;"+g+':62px">');k=k+'</div><div id="demo2-'+(c+'" class="slide_c pointer imgbuttom" style="z-index:999; background-image:url('+wb3d.wb3d_plagin_images_URL+"vtablet.png);background-size:100% 100%;width:48px;height: 53px;position: absolute;top:31px;"+g+':23px">');
k=k+'</div><div id="demo3-'+(c+'" class="slide_c pointer imgbuttom" style="z-index:1000;background-image:url('+wb3d.wb3d_plagin_images_URL+"mobile.png);background-size:100% 100%;width:19px;height: 38px;position: absolute;top:43px;"+g+':10px">');0===Number(c)%2&&(h="#2c86f7");k=k+'</div><div id="demodelete-'+(c+'" title="remove slide" class="pointer imgbuttom" style="z-index:99999999;background-image:url('+wb3d.wb3d_plagin_images_URL+'close4.png);background-size:100% 100%;width:16px;height: 16px;position: absolute;top:-2px;left:-2px;border-radius:50%;"></div>');
k+='<div id="demo_duplicate-'+c+'" title="duplicate" class="pointer imgbuttom" style="z-index:99999999; background-image:url('+wb3d.wb3d_plagin_images_URL+'copy.jpg);background-size:100% 100%;width:18px;height: 18px;position: absolute;top:-1px;right:-1px;border-radius:50%;"></div>';k+='<div style="z-index: 1000;display: inline-block;position: absolute;top: -13px;'+g+": 50px;font-size: 18px;background-color:"+h+';border-radius: 50%;padding: 3px">'+c+"</div></div>";jQuery("#divtitleslide2").append(k);
jQuery("#divtitleslide2").sortable({connectWith:".ui-state-default",update:function(f,p){f=b.dataslide[d];for(a=0;a<b.slidnum[d];a++)e=JSON.stringify(f[a]),f["A"+a]=JSON.parse(e);p=jQuery("#divtitleslide2 .ui-state-default").map(function(l){return this.id}).get();var u=[];for(a=0;a<b.slidnum[d];a++){var q=p[a].split("-")[1];u[d+"-"+a]=q}for(a=0;a<b.slidnum[d];a++)e=JSON.stringify(f["A"+b.los[d+"-"+u[d+"-"+a]]]),f[a]=JSON.parse(e);for(a=0;a<b.slidnum[d];a++)q=p[a].split("-")[1],b.slide_of_location[d+
"-"+a]=q,b.los[d+"-"+q]=a,b.dataslide[d][a][0].slide_of_location=q,b.dataslide[d][a][0]["los_"+q]=a}});h=jQuery("#divtitleslide2 .ui-state-default").map(function(f){return this.id}).get();for(g=0;g<h.length;g++)b.slide_of_location[d+"-"+g]=h[g].split("-")[1];jQuery("#demo0-"+c).click(function(){wb3d_clickdemoslide(this)});jQuery("#demo1-"+c).click(function(){wb3d_clickdemoslide(this)});jQuery("#demo2-"+c).click(function(){wb3d_clickdemoslide(this)});jQuery("#demo3-"+c).click(function(){wb3d_clickdemoslide(this)});
jQuery("#demodelete-"+c).click(function(){wb3d_clickdemodelete(this)});jQuery("#demo_duplicate-"+c).click(function(){wb3d_click_demo_duplicate(this)})}
function wb3d_create_layer_panel(c,b,d,h,a){var e="",g="left";1==wb3d.rtl&&(g="right");var k,f;"0"===d?e=e+('<li  id="li-'+b+"-"+d+'"  style="list-style-type: none;position:relative;width:135px;"><div style=" float: ')+(g+";position:absolute;top:0px;"+g+':0px;height:33px;  ">'):(e=e+('<li   id="li-'+b+"-"+d+'"  class="ves_li ui-state-default" style="position:relative; background-color:#eee;width:135px;border:1px solid black;border-radius:3px" ><div style=" top:0px;')+(g+':0px;height:33px;position:absolute "> <img class="pointer" style="top:-3px;')+
(g+':-6px;width:15px;height:15px;position:absolute;border-radius:50%;" src="'+wb3d.wb3d_plagin_images_URL+'close3.png" id="picclose-'+b+"-"+d+'">'),e+=' <img class="pointer" style="top:19px;'+g+':-6px;width:14px;height:14px;position:absolute;border-radius:50%;border: 1px solid #000;" src="'+wb3d.wb3d_plagin_images_URL+'copy.jpg" id="copy_layer-'+b+"-"+d+'">',e+='<div style="float: '+g+'; font-size: 12px;margin:6px 0 0 0px;text-align: center;width:24px" >'+d+"</div>");"0"!=d&&(e+=' <div class="pointer" id="see-'+
b+"-"+d+'" style="'+g+":26px;top:1px;position:absolute;width:15px;height:15px;background-image: url("+wb3d.wb3d_plagin_images_URL+'see.jpg);background-size:100% 100%;border-radius:50%">',e+="</div>",e+=' <div class="pointer" id="lock-'+b+"-"+d+'" style="'+g+":26px;top:17px;position:absolute;width:15px;height:15px;background-image: url("+wb3d.wb3d_plagin_images_URL+'unlock.png);background-size:100% 100%;">',e+="</div>",e+=' <div style="float: '+g+';width:70px;height:25px; font-size: 12px;margin:2px 0 0 -1px;">',
e+='<input type="text" id="lable-'+b+"-"+d+'" style="position:absolute;'+g+':48px;top:2px;width:120px;height:28px;font-size:12px;background-color:#ccc"></div>');e+="</div></div></div>";e+="</li>";if("0"===d){var p='<ul id="sortable'+b+'" class=" sortable1" style="width:170px;position:relative;height:auto;top:-15px"></ul>';jQuery("#sortlist-slide-option-"+b).append(p)}jQuery("#sortable"+b).append(e);jQuery("#lable-"+b+"-"+d).val(a.layerstext[b+"-"+d]);jQuery("#lable-"+b+"-"+d).keyup(function(){var l=
this.id.split("-");a.layerstext[l[1]+"-"+l[2]]=jQuery("#lable-"+l[1]+"-"+l[2]).val()});if(0!=a.U_P[c+"-"+b+"-"+d]&&"0"!=d){p=1;e=a.U_P[c+"-"+b+"-"+d].split("-")[0];for(var u=a.lo_l[c+"-"+b+"-"+d]-1;0<u;u--){var q=a.la_l[c+"-"+b+"-"+u];if(0===a.U_P[c+"-"+b+"-"+q])break;else q===e&&(p++,e=a.U_P[c+"-"+b+"-"+q].split("-")[0])}jQuery("#li-"+b+"-"+d).css("margin-"+g,15*p+"px");jQuery("#copy_layer-"+b+"-"+d).css("display","none");jQuery("#picclose-"+b+"-"+d).css("display","none")}wb3d_click_layer_panel(b,
d,a);jQuery("#sortable"+b).sortable({items:"li:not(.unsortable)"});jQuery("#sortable"+b).disableSelection();"0"===d&&jQuery("#sortable"+b).sortable({start:function(l,t){},change:function(l,t){a.changepanel=1},stop:function(l,t){if(1!=a.changepanel)a.changepanel=0;else{l=this.id.split("sortable")[1];var m=0;if(-1!==a.li_MouseDown){var r=a.li_MouseDown.split("-")[1];if(0!=a.U_P[c+"-"+a.li_MouseDown])m=1;else for(f=1;f<a.layers[c+"-"+l];f++)if(k=a.la_l[c+"-"+l+"-"+f],0!=a.U_P[c+"-"+l+"-"+k]&&r===a.U_P[c+
"-"+l+"-"+k].split("-")[0]){m=1;break}t=jQuery("#"+this.id).sortable("toArray",{attribute:"id"});0!=a.U_P[c+"-"+l+"-"+r]&&(m=1);if(1!=m)for(r=1;r<a.layers[c+"-"+l];r++)if(k=a.la_l[c+"-"+l+"-"+r],0!=a.U_P[c+"-"+l+"-"+k]){for(f=1;f<a.layers[c+"-"+l];f++){var n=t[f].split("-")[2];if(n===k){n=a.lo_l[c+"-"+l+"-"+a.U_P[c+"-"+l+"-"+k].split("-")[0]];for(var w=a.U_P[c+"-"+l+"-"+k].split("-")[0],v=1;v<a.layers[c+"-"+l]&&t[v].split("-")[2]!==w;v++);if(r-n!=f-v){m=1;break}}}if(1===m)break}if(1<=m)for(jQuery("#sortable"+
b).empty(),jQuery("#sortable"+b).remove(),l=0;l<a.layers[c+"-"+b];l++)wb3d_create_layer_panel(c,b,a.la_l[c+"-"+b+"-"+l],l,a);else{m=a.dataslide[c][a.los[c+"-"+l]];for(f=1;f<a.layers[c+"-"+l];f++)n=JSON.stringify(m[f]),m["A"+f]=JSON.parse(n);t=jQuery("#"+this.id).sortable("toArray",{attribute:"id"});r=[];for(f=0;f<a.layers[c+"-"+l];f++)n=t[f].split("-")[2],r[c+"-"+l+"-"+f]=n;for(f=1;f<a.layers[c+"-"+l];f++)n=JSON.stringify(m["A"+a.lo_l[c+"-"+l+"-"+r[c+"-"+l+"-"+f]]]),m[f]=JSON.parse(n);for(f=0;f<a.layers[c+
"-"+l];f++)n=t[f].split("-")[2],a.la_l[c+"-"+l+"-"+f]=n,a.lo_l[c+"-"+l+"-"+n]=Number(f),m[f].loc=f;a.li_MouseDown=-1}}}}});h=a.dataslide[c][a.los[c+"-"+b]][h];1===h.show||void 0===h.show?jQuery("#see-"+b+"-"+d).css("background-image","url("+wb3d.wb3d_plagin_images_URL+"/see.jpg)"):jQuery("#see-"+b+"-"+d).css("background-image","url("+wb3d.wb3d_plagin_images_URL+"/nosee.jpg)");1===h.lock||void 0===h.lock?jQuery("#lock-"+b+"-"+d).css("background-image","url("+wb3d.wb3d_plagin_images_URL+"/lock.png)"):
jQuery("#lock-"+b+"-"+d).css("background-image","url("+wb3d.wb3d_plagin_images_URL+"/unlock.png)")}
function wb3d_onMove_li(c,b){var d=b.sn["0-0"];-1!=b.li_MouseDown&&(b.es1_changeX[b.li_MouseDown]=c.clientX-b.es1_firstPointX,-20>b.es1_changeX[b.li_MouseDown]&&0!=b.U_P[d+"-"+b.li_MouseDown]&&1!=wb3d.rtl?(c=b.wb3d_id["0_"+b.activeslide[b.cu]+"-"+b.U_P[d+"-"+b.li_MouseDown]],1==Number(b.panelLock[c])?b.li_MouseDown=-1:unset_panel_obj(b.li_MouseDown,b)):20<b.es1_changeX[b.li_MouseDown]&&0!=b.U_P[d+"-"+b.li_MouseDown]&&1==wb3d.rtl&&(c=b.wb3d_id["0_"+b.activeslide[b.cu]+"-"+b.U_P[d+"-"+b.li_MouseDown]],
1==Number(b.panelLock[c])?b.li_MouseDown=-1:unset_panel_obj(b.li_MouseDown,b)))}
function unset_panel_obj(c,b){var d=c.split("-");c=b.sn["0-0"];var h=d[0],a=d[1],e;jQuery("#sortable"+h).empty();jQuery("#sortable"+h).remove();d=b.lo_l[c+"-"+h+"-"+a];var g=b.dataslide[c][b.los[c+"-"+h]];b.U_P[c+"-"+h+"-"+a]=0;g[d].U_P=0;for(var k=g[d].l_type=0;4>k;k++)g[d]["PX_"+k]=80+5*d,g[d]["PY_"+k]=80+5*d;k="#wb3dh-"+b.wb3d_id["0_"+b.activeslide[b.cu]];for(e=0;e<g[d].layer_obj;e++){var f=g[d]["obj_num_"+e];jQuery("#wb3dg-"+b.wb3d_id["0_"+h+"-"+a+"-"+f]).detach().appendTo(k);wb3d_set_bk(b.wb3d_id["0_"+
h+"-"+a+"-"+f],b,a);var p=g[d]["type_obj-"+f];if(void 0!=b.addon["wb3d_"+p+"_dropout"])b.addon["wb3d_"+p+"_dropout"](g[d],b.wb3d_id["0_"+h+"-"+a+"-"+f],f,k)}jQuery("#li-"+h+"-"+a).css("margin-left","0px");d++;k=d-1;for(a=d;a<=b.layers[c+"-"+h]-1;a++)if(e=b.la_l[c+"-"+h+"-"+a],0===b.U_P[c+"-"+h+"-"+e]){k=a;break}else if(0!=b.U_P[c+"-"+h+"-"+e]){e=b.U_P[c+"-"+h+"-"+e].split("-")[0];for(f=1;f<d-1;f++)if(b.la_l[c+"-"+h+"-"+f]===e){k=a;break}if(k>d-1)break}if(k!==d-1){for(a=d-1;a<=k-1;a++)e=JSON.stringify(g[a]),
g["A"+a]=JSON.parse(e);f=k-(d-1);for(a=k;a<=b.layers[c+"-"+h]-1;a++)e=JSON.stringify(g[a]),g[a-f]=JSON.parse(e),g[a-f].loc=a-f,b.la_l[c+"-"+h+"-"+(a-f)]=g[a-f].ind,b.lo_l[c+"-"+h+"-"+b.la_l[c+"-"+h+"-"+(a-f)]]=a-f;f=b.layers[c+"-"+h]-1-k+1;for(a=d-1;a<=k-1;a++)e=JSON.stringify(g["A"+a]),g[a+f]=JSON.parse(e),delete g["A"+a],g[a+f].loc=a+f,b.la_l[c+"-"+h+"-"+(a+f)]=g[a+f].ind,b.lo_l[c+"-"+h+"-"+b.la_l[c+"-"+h+"-"+(a+f)]]=a+f}for(d=0;d<b.layers[c+"-"+h];d++)wb3d_create_layer_panel(c,h,b.la_l[c+"-"+h+
"-"+d],d,b);wb3d_set_slide_value(h,"",b);b.putimagecanvas();b.li_MouseDown=-1}
function wb3d_copy_layer(c,b,d,h,a){var e=a.sn["0-0"];b=a.dataslide[e][a.los[e+"-"+c]][a.lo_l[e+"-"+c+"-"+b]];a.dataslide[e][a.los[e+"-"+c]][a.layers[e+"-"+c]]={};a.dataslide[e][a.los[e+"-"+c]][a.layers[e+"-"+c]]=JSON.parse(JSON.stringify(b));a.lo_l[e+"-"+c+"-"+d]=a.layers[e+"-"+c];a.la_l[e+"-"+c+"-"+a.layers[e+"-"+c]]=d;b=a.dataslide[e][a.los[e+"-"+c]][a.layers[e+"-"+c]];b.ind=d;b.loc=a.layers[e+"-"+c];a.bk_create_layer["0_"+a.activeslide[a.cu]+"-"+d]=-1;a.framenum["0_"+a.activeslide[a.cu]+"-"+d]=
0;a.U_P[e+"-"+a.activeslide[a.cu]+"-"+d]=h;a.dataslide[e][a.los[e+"-"+c]][a.layers[e+"-"+c]].U_P=a.U_P[e+"-"+a.activeslide[a.cu]+"-"+d];a.layers[e+"-"+c]++;wb3d_createlayer(0,a.activeslide[a.cu],a.layers[e+"-"+a.activeslide[a.cu]]-1,a.dataslide[e][a.los[e+"-"+a.activeslide[a.cu]]],"new",100,0,e,0,0,0,a);b=a.dataslide[e][a.los[e+"-"+c]][a.lo_l[e+"-"+c+"-"+d]];for(var g=0;g<b.layer_obj;g++){e=0===h?"#wb3dh-"+a.wb3d_id["0_"+c]:"#wb3de-"+a.wb3d_id["0_"+c+"-"+h];var k=wb3d_create_id("0_"+c+"-"+d+"-"+b["obj_num_"+
g],a);a.createobj[b["type_obj-"+b["obj_num_"+g]]](a.sn["0-0"],k,b,e,a,b["obj_num_"+g],0,d,a.activeslide[a.cu],0,0)}wb3d_scroll_tab_leftmenu("div_layers_menu",a)};