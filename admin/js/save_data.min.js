/**
* Author URI:  https://3dwebsitebuilder.com/
* Author : Keivan Kamali
*/
String.prototype.wb3d_htmlEncode2=function(){return String(this).replace(/</g,"$k180").replace(/>/g,"$k181")};
function wb3d_Save_All_Data(e,r){var g=e.sn["0-0"],p={};e.type_wb3d=[];var m=[],b,c,h,d;jQuery("#save_all img").attr("src",wb3d.wb3d_plagin_images_URL+"1.gif");var a=[{}];e.another_slider=[];e.another_obj_num=0;var l=e.setting[g],t=[];a[0].num=e.slidnum[g];if(void 0===e.slidnum[g]||1>e.slidnum[g])alert(jQuery("#alert_Error620").text());else{for(c=0;c<e.number_effect_compile[g];c++){var q=e.effect_of_location[g+"-"+c];t[2*c]=q;t[2*c+1]=e.name_effect[g+"-"+q]}q=jQuery("#wb3d_classtext").val();q=q.wb3d_htmlEncode2();
q=JSON.stringify(q);var w=JSON.stringify("");a[0].r1=l.r1;a[0].g1=l.g1;a[0].b1=l.b1;a[0].a1=l.a1;a[0].r2=l.r2;a[0].g2=l.g2;a[0].b2=l.b2;a[0].a2=l.a2;a[0].r3=l.r3;a[0].g3=l.g3;a[0].b3=l.b3;a[0].a3=l.a3;a[0].rbl1=l.rbl1;a[0].gbl1=l.gbl1;a[0].bbl1=l.bbl1;a[0].abl1=l.abl1;a[0].rbl2=l.rbl2;a[0].gbl2=l.gbl2;a[0].bbl2=l.bbl2;a[0].abl2=l.abl2;a[0].blo=l.blo;a[0].wheel=Number(jQuery("#wheel").val());a[0].wheel_s=Number(jQuery("#wheel_speed").val());a[0]["vmaxsc-0"]=l["vmaxsc-0"];a[0]["vmaxsc-1"]=l["vmaxsc-1"];
a[0]["vmaxsc-2"]=l["vmaxsc-2"];a[0]["vmaxsc-3"]=l["vmaxsc-3"];for(b=0;10>b;b++)a[0]["c"+b]=l["c"+b];jQuery("#display_scroll").is(":checked")?a[0].scroll=1:a[0].scroll=0;jQuery("#wheel_checkbox").is(":checked")?a[0].wheel_c=1:a[0].wheel_c=0;a[0].w_0=Number(jQuery("#width_0_spiner").val());a[0].w_1=Number(jQuery("#width_1_spiner").val());a[0].w_2=Number(jQuery("#width_2_spiner").val());a[0].w_3=Number(jQuery("#width_3_spiner").val());a[0].h_0=Number(jQuery("#height_0_spiner").val());a[0].h_1=Number(jQuery("#height_1_spiner").val());
a[0].h_2=Number(jQuery("#height_2_spiner").val());a[0].h_3=Number(jQuery("#height_3_spiner").val());a[0].colortype=Number(jQuery("#colortype").val());a[0].touch=Number(jQuery("#touch").val());a[0].fullwidth=Number(jQuery("#fullwidth").val());0===Number(jQuery("#reset_scroll").val())?a[0].reset=50:a[0].reset=Number(jQuery("#reset_scroll").val());0===Number(jQuery("#reset_scroll2").val())?a[0].reset2=50:a[0].reset2=Number(jQuery("#reset_scroll2").val());a[0].maxColorTable=Number(jQuery("#colortable_to").val());
l=a[0];a=[];var k=e.slide_of_location[g+"-0"];var n=-1;for(d=0;d<e.slidnum[g];d++)for(k=e.slide_of_location[g+"-"+d],a[d]=[],b=0;b<=e.layers[g+"-"+k]-1;b++){n++;c=e.la_l[g+"-"+k+"-"+b];a[d][b]=[];if("0"===c){a[d][b]={};var f=e.dataslide[g][d][0];a[d][b].loc=0;a[d][b].ind="0";a[d][b].layer=e.layers[g+"-"+k];a[d][b].slide_of_location=k;a[d][b].slide_r=e.color1[g+"-"+k];a[d][b].cursor=Number(f.cursor);for(c=0;4>c;c++)a[d][b]["E_"+c]=f["E_"+c]}else{p[k+"-"+c]=jQuery("#lable-"+k+"-"+c).val();a[d][b]={};
f=e.dataslide[g][d][b];a[d][b].loc=b;a[d][b].ind=c.toString();a[d][b].U_P=void 0===e.U_P[g+"-"+k+"-"+c]?0:e.U_P[g+"-"+k+"-"+c];a[d][b].show=f.show;a[d][b].lock=f.lock;a[d][b].click_type=f.click_type;a[d][b].click_newpage=f.click_newpage;-1!=f.click_type&&(a[d][b].click_link=f.click_link);a[d][b].l_type=f.l_type;a[d][b].act=f.act;a[d][b].reset=f.reset;a[d][b].pointer=void 0===f.pointer?0:Number(f.pointer);a[d][b].sizefunc=void 0===f.sizefunc?0:Number(f.sizefunc);a[d][b].overflow=void 0===f.overflow?
1:Number(f.overflow);a[d][b].overflow2=void 0===f.overflow2?1:Number(f.overflow2);a[d][b].selectable=void 0===f.selectable?0:Number(f.selectable);if(9<=f.l_type&&11>=f.l_type||13==f.l_type)a[d][b].tab=Number(f.tab);a[d][b].pers=f.pers;for(c=0;4>c;c++)a[d][b]["P_s"+c]=Number(f["P_s"+c]),a[d][b]["repeat"+c]=Number(f["repeat"+c]),a[d][b]["slow"+c]=Number(f["slow"+c]),a[d][b]["T_E"+c]=Number(f["T_E"+c]),a[d][b]["PX_"+c]=parseInt(f["PX_"+c]),a[d][b]["PY_"+c]=parseInt(f["PY_"+c]),a[d][b]["S_"+c]=Number(f["S_"+
c]),a[d][b]["P_"+c]=f["P_"+c],a[d][b]["Pt_"+c]=f["Pt_"+c],a[d][b]["Pp_"+c]=f["Pp_"+c],a[d][b]["P1_"+c]=f["P1_"+c],a[d][b]["P2_"+c]=f["P2_"+c],a[d][b]["Ps1_"+c]=f["Ps1_"+c],a[d][b]["Ps2_"+c]=f["Ps2_"+c],a[d][b]["A_l"+c]=Number(f["A_l"+c]),a[d][b]["A_t"+c]=Number(f["A_t"+c]),a[d][b]["WO"+c]=f["WO"+c],a[d][b]["HO"+c]=f["HO"+c],a[d][b]["hide_"+c]=f["hide_"+c],a[d][b]["noxy"+c]=Number(f["noxy"+c]),a[d][b]["B_"+c]=f["B_"+c],300<f["B_"+c]&&(a[d][b]["B_"+c]=0),a[d][b]["C_"+c]=f["C_"+c],a[d][b]["E_"+c]=f["E_"+
c],300<f["E_"+c]&&(a[d][b]["E_"+c]=-100),a[d][b]["F_"+c]=f["F_"+c],a[d][b]["EA_"+c]=f["EA_"+c],a[d][b]["t_x_"+c]=Number(f["t_x_"+c]),a[d][b]["t_y_"+c]=Number(f["t_y_"+c]);a[d][b].layer_obj=f.layer_obj;for(h=0;h<f.layer_obj;h++){c=f["obj_num_"+h];var u=f["type_obj-"+c],v=u;a[d][b]["obj_num_"+h]=c;a[d][b]["type_obj-"+c]=u;wb3d_set_array(e,a,d,b,c,u,v,f)}}a[d][b].maxtime=e.slide_time[g+"-"+k]}a=JSON.stringify(a);"refresh2"===r&&(a=a.replaceAll(jQuery("#wb3d_replace1").val(),jQuery("#wb3d_replace2").val()));
a=a.wb3d_htmlEncode2();f={};f.num=e.number_effect_compile[g];f.name=[];e.numGetToken2=0;for(n=e.numSendToken2=0;n<e.number_effect_compile[g];n++)f.name[n]=e.effect_of_location[g+"-"+n],wb3d_save_effect(e,e.effect_of_location[g+"-"+n],0),f[e.effect_of_location[g+"-"+n]]=e.data;n=[];for(h=0;9>=h;h++){d=[];for(b=0;b<e.max_color[g+"-"+h];b++)d[4*b+2]=e.r[g+"-"+h+"-"+b],d[4*b+3]=e.g[g+"-"+h+"-"+b],d[4*b+4]=e.b[g+"-"+h+"-"+b],d[4*b+5]=e.a[g+"-"+h+"-"+b];d[0]=parseInt(e.max_color[g+"-"+h]/256);d[1]=parseInt(e.max_color[g+
"-"+h]%256);n[h]=wb3d_toHexString(d)}n=JSON.stringify(n);f=0<e.number_effect_compile[g]?JSON.stringify(f):"{}";p=JSON.stringify(p);p=p.wb3d_htmlEncode2();b=[];k=[];d={};for(b=0;b<e.number_effect_compile[g];b++)for(c=e.effect_of_location[g+"-"+b],h=8*b,k[h]=e.effect_color[g][h],k[h+1]=e.effect_color[g][h+1],k[h+2]=e.effect_color[g][h+2],k[h+3]=e.effect_color[g][h+3],k[h+4]=e.effect_color[g][h+4],k[h+5]=e.effect_color[g][h+5],k[h+6]=e.effect_color[g][h+6],k[h+7]=e.effect_color[g][h+7],h=e.gs[g][c],
u=1;u<=h.gettoken_location[0];u++)v=h.gettoken_location[u],33===h.gettypetoken[v]&&(d[c+"-"+v]=e.event[g][c+"-"+v]);d=JSON.stringify(d);0<e.number_effect_compile[g]?(b=wb3d_toHexString(k),b=JSON.stringify(b)):b='"0f52a1ff932a2aff"';e.another_slider="";e.another_slider=JSON.stringify(e.another_slider);wb3d_obj=JSON.stringify(e.type_wb3d);c=0;if("refresh"===r)for(k=0;k<e.addons[0].length;k++)jQuery("#wb3d_addon_"+e.addons[0][k]+"_checkbox").is(":checked")&&(m[c]=e.addons[0][k],c++);else for(k=0;k<e.open_addons.length;k++)m[k]=
e.open_addons[k];m.sort();m=m.toString();l=JSON.stringify(l);t=0<e.number_effect_compile[g]?JSON.stringify(t):"[]";t=t.wb3d_htmlEncode2();g=JSON.stringify(e.dataslide[g]);jQuery.post(wb3d.wb3d_ADMIN_URL+"admin-ajax.php",{html:w,css:q,layers:a,event:d,effect_color:b,effect_name:t,open_addons:m,wb3d_nonce:wb3d.wb3d_nonce,color:n,effects:f,action:"wb3d_save_data",id_ves:e.jQuery_GET.id,textv:g,setting:l,layerstext:p,wb3d_obj},function(x){jQuery("#save_all img").attr("src",wb3d.wb3d_plagin_images_URL+
"save.svg");"refresh"!==r&&"refresh2"!==r||location.reload()});return 0}}function wb3d_set_array(e,r,g,p,m,b,c,h){if("wb3d"===h["type_"+m]&&1!=h["ajax_"+m]&&11!=h["ajax_"+m]){for(var d=c=0;d<e.another_obj_num;d++)e.type_wb3d[d]===h["slider_"+m]&&(c=1);0===c&&(e.another_slider[e.another_obj_num]=JSON.stringify(e.all_slider[r[g][p]["slider_"+m]]),e.type_wb3d[e.another_obj_num]=h["slider_"+m],e.another_obj_num++)}void 0!=b.split("_")[1]&&(b=b.split("_")[0]);e.savedata[b](r,g,p,m,b,h)};