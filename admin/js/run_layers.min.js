wb3d_start_frame=function(a,d){var e=a.cu,b,c=a.sn[e+"-0"];0!=a.click1&&(a.click2=a.click1);a.click1=0;0!=a.down_id&&(a.down_id2=a.down_id);a.down_id=0;a.bk_tab2[e+"_"+a.activeslide[e]]=a.bk_tab[e+"_"+a.activeslide[e]];-1!=a.es1_key&&(a.es1_key2=a.es1_key,a.es1_key=-1);a.time++;if(1!==a.drag_slide){a.framenum[a.cu+"_"+a.activeslide[e]]++;a.mlayer[5]=0;a.mlayer[4]=0;a.mlayer[2]=0;for(b=1;b<=a.layers[c+"-"+a.activeslide[e]]-1;b++){var f=a.la_l[c+"-"+a.activeslide[e]+"-"+b];wb3d_run_main(a.activeslide[e],
f,b,a,d,1,e,c)}1==a.mlayer[5]?(a.mlayer[3]=0,a.mlayer[0]=0,a.mlayer[1]=0):0==a.mlayer[3]?(a.mlayer[3]=1,a.mlayer[0]=0,a.mlayer[1]=0):1==a.mlayer[4]?(a.mlayer[0]=0,a.mlayer[1]=0):1!=a.mlayer[1]?(a.mlayer[1]=1,a.mlayer[0]=0):a.mlayer[0]=1==a.mlayer[2]?0:1;a.click2=0;a.down_id2=0;a.bk_key=a.es1_key2;a.es1_key2=-1;a.bk_ta=a.es1_Tab;a.bk_tab3[a.cu+"_"+a.activeslide[e]]=a.bk_tab2[a.cu+"_"+a.activeslide[e]];"main"===wb3d.flag&&wb3d_drawcanvas();3>a.flag_bl2["0_0"]&&wb3d_set_scrollMaxY(a,a.cu+"_0",0,a.cu,
c);return 0}};
function wb3d_run_main(a,d,e,b,c,f,h,g){c=0;e=b.dataslide[g][b.los[g+"-"+a]][e];var l=e["EB_"+b.d],r=0;-1!=l&&(r=b.pixel_frm[g+"-"+l+"-"+b.framenum[h+"_"+a+"-"+d]]);var m=h+"_"+a+"-"+d,v=b.scY1[m],p=1,u=1;if(void 0===v||isNaN(v))u=0;25*e["C_"+b.d]>b.framenum[h+"_"+a]?p=0:25*e["F_"+b.d]<b.framenum[h+"_"+a]?p=0:b.vscroll[h+"_0"]<v?p=0:b.vscroll[h+"_0"]>b.scY2[m]&&(p=0);var q=1;if(1==wb3d.wb3d_pro2&&-1!=l){var n=b.gs[g][l];b.ex_frm=-1<b.RangeSlider_val&&b.s_l===d&&"main"===wb3d.flag?Math.round(b.RangeSlider_val/100*
(n.max_p-1)):-1;0!=n.E[0][21]&&b.id_pre_stop[m]!=r&&(0<n.E[21][r]&&1!=b.id_stop[m]?(b.id_time_stop[m]=2.5*n.E[21][r],b.id_stop[m]=1,q=0,b.id_bk_pre_stop[m]=r):1===b.id_stop[m]&&0<b.id_time_stop[m]?(b.id_time_stop[m]--,q=0):1===b.id_stop[m]&&0>=b.id_time_stop[m]?(b.id_stop[m]=0,b.id_pre_stop[m]=b.id_bk_pre_stop[m]):b.id_pre_stop[m]=-2)}b.sc_t_fl[m]=1===p?1:0;1==wb3d.wb3d_pro2&&-1!=l&&(1===b.sc_t_fl[m]&&1===q&&(0>=b.ex_frm&&"play"!=b.bk_play[b.cu+"_"+b.activeslide[h]+"-0"]&&"main"===wb3d.flag||(r=wb3d_set_frame(g,
l,h+"_"+a+"-"+d,b.vscroll[h+"_0"]-v,f,b,e,e["T_E"+b.d],e["repeat"+b.d]))),-1!=b.ex_frm&&"main"===wb3d.flag&&(r=b.ex_frm),0!=n.E[0][26]&&(c=n.E[26][r]));f=h+"_"+a+"-"+d+"-"+c;var k=b.wb3d_id[f];1===b.sc_t_fl[m]?1!=b.bk_flag[b.wb3d_id[f]]&&(b.bk_flag[b.wb3d_id[f]]=1,b.chenge_display[b.wb3d_id[f]]=-1):0!=b.bk_flag[b.wb3d_id[f]]&&(b.bk_flag[b.wb3d_id[f]]=0,b.chenge_display[b.wb3d_id[f]]=-1);b.bk_f[m]!=r&&(b.chenge_details_obj[k]=0,b.chenge_details_obj2[k]=0);b.bk_mode[m]!=c&&(b.chenge_display[k]=-1,b.bk_change_sizew[k]=
-1,b.bk_change_sizeh[k]=-1);0!=e["P_s"+b.d]&&(b.sc_t_fl[m]=1);wb3d_set_style(g,b,r,e,l,a,d,c,a,d,c,k,m,"layer",u,f,b.sc_t_fl[m],h+"_"+a,q,0,0);0===p&&1===b.sc_t_fl[m]&&((0===b.framenum[h+"_"+a+"-"+d]||1!=e["slow"+b.d])&&b.vscroll[h+"_0"]<v?b.sc_t_fl[m]=0:(b.framenum[h+"_"+a+"-"+d]===n.max_f-1||1!=e["slow"+b.d])&&b.vscroll[h+"_0"]>b.scY2[m]&&(b.sc_t_fl[m]=0));"main"===wb3d.flag?wb3d_set_border(b,k,b.bk_width[k]/b.bk_tx[k],b.bk_height[k]/b.bk_ty[k],e,m):b.set_border=-1}
function wb3d_set_pre_width_height(a,d,e,b,c,f,h,g,l,r,m,v,p,u,q){b=q+"_"+p;a.wh_w[c]=1===d["WO"+a.d]?a.wb3d_ay[b]:a.wb3d_ax[b];a.wh_h[c]=1===d["HO"+a.d]?a.wb3d_ay[b]:a.wb3d_ax[b];b=d=1;1==wb3d.wb3d_pro2&&-1!=r&&(e=a.gs[e][r],-1!=m&&(0!==e.E[0][19]&&(d=e.E[19][m]/100),0!==e.E[0][20]&&(b=e.E[20][m]/100)));if(a.bk_rh[c]!=b||a.bk_rw[c]!=d)a.bk_rh[c]=b,a.bk_rw[c]=d,a.bk_change_sizew[c]=-1,a.bk_change_sizeh[c]=-1}
function wb3d_set_width_height(a,d,e,b,c,f,h,g,l,r,m,v,p,u,q){h=a.bk_rw[c];var n=a.bk_rh[c];if("layer"==f)if(1===a.size1[c]||void 0===a.size1[c]){g=d["sizex_"+a.d+"-"+l]*a.wh_w[c];var k=d["sizey_"+a.d+"-"+l]*a.wh_h[c];a.bk_change_sizew[c]!=g+"-"+h+"-"+a.wh_w[c]&&(a.bk_change_sizew[c]=g+"-"+h+"-"+a.wh_w[c],void 0!=a.idc[c]&&(2==d["relative_"+l]&&(g=a.setting[e]["w_"+a.d]*a.wh_w[c],a.idc[c].style.marginTop=d["margin_"+l]*a.wh_h[c]+"px"),a.ide[c].style.width=g+"px",1!=d.sizefunc?g=a.ide[c].offsetWidth:
(e=a.ide[c].getBoundingClientRect(),g=e.width),a.idc[c].style.width=g*h+"px",a.idd[c].style.width=g+"px",a.bk_width[c]=g,a.bk_width[b]=g));a.bk_change_sizeh[c]!=k+"-"+n+"-"+a.wh_h[c]+"-"+a.h[c]&&(a.bk_change_sizeh[c]=k+"-"+n+"-"+a.wh_h[c]+"-"+a.h[c],void 0!=a.idc[c]&&(a.ide[c].style.height=0!=a.h[c]?a.h[c]+"px":k+"px",1!=d.sizefunc?k=a.ide[c].offsetHeight:(e=a.ide[c].getBoundingClientRect(),k=e.height),a.idc[c].style.height=k*n+"px",a.idd[c].style.height=k+"px",a.bk_height[c]=k,a.bk_height[b]=k))}else if(1<=
a.size1[c]&&4>a.size1[c]){if(a.bk_change_sizew[c]!=h+"-"+a.wh_h[c]){a.bk_change_sizew[c]=h+"-"+a.wh_h[c];e=d["lp_"+a.d+"-"+l];f=d["rp_"+a.d+"-"+l];g=d["tp_"+a.d+"-"+l];r=d["bp_"+a.d+"-"+l];e*=a.wh_h[c];f*=a.wh_h[c];g*=a.wh_h[c];r*=a.wh_h[c];g=g+"px "+f+"px "+r+"px "+e+"px";2===a.newsize[c]&&1!=a.lborder[c]&&(a.ide[c].style.padding=g);1!=a.lh[c]&&void 0!=d["lheight_"+l]&&(a.ide[c].style.lineHeight=d["lheight_"+l]);a.ide[c].style.whiteSpace=void 0!=d["tline_"+l]?d["tline_"+l]:"nowrap";void 0!=d["fweight_"+
l]&&(a.ide[c].style.fontWeight=d["fweight_"+l]);void 0!=d["fname_"+l]&&(a.ide[c].style.fontFamily=d["fname_"+l]);void 0!=d["talign_"+l]&&(a.ide[c].style.textAlign=d["talign_"+l]);void 0!=d["decoration_"+l]&&(a.ide[c].style.textDecoration=d["decoration_"+l]);a.ide[c].style.fontSize=d["fs_"+a.d+"-"+l]*a.wh_h[c]+"px";r=a.ide[c].getElementsByTagName("*");for(g=0;g<r.length;g++)r[g].style.fontSize=d["fs_"+a.d+"-"+l]*a.wh_h[c]+"px";"normal"!=d["tline_"+l]?(a.ide[c].style.width="auto",1!=d.sizefunc?(g=a.ide[c].offsetWidth,
k=a.ide[c].offsetHeight):(e=a.ide[c].getBoundingClientRect(),k=e.height,g=e.width),a.idd[c].style.width=g*h+"px",a.idc[c].style.width=g*h+"px",a.idd[c].style.height=k*n+"px",a.idc[c].style.height=k*n+"px",a.bk_width[c]=g,a.bk_height[c]=k,a.bk_width[b]=g,a.bk_height[b]=k,d["sizey_"+a.d+"-"+l]=k/a.wh_h[c],0==u&&"main"===wb3d.flag&&(d["sizex_"+a.d+"-"+l]=g,d["sizey_"+a.d+"-"+l]=k)):(g=d["sizex_"+a.d+"-"+l]*a.wh_w[c],a.ide[c].style.width=g+"px",g+=e+f,1!=d.sizefunc?k=a.ide[c].offsetHeight:(e=a.ide[c].getBoundingClientRect(),
k=e.height),a.idd[c].style.width=g*h+"px",a.idc[c].style.width=g*h+"px",a.idd[c].style.height=k*n+"px",a.idc[c].style.height=k*n+"px",setTimeout(function(){a.idd[c].style.height=k*n+"px";a.idc[c].style.height=k*n+"px"},3040),a.bk_width[c]=g*a.bk_tx[c],a.bk_height[c]=k*a.bk_ty[c],a.bk_width[b]=g*h*a.bk_tx[c],a.bk_height[b]=k*n*a.bk_ty[c],d["sizey_"+a.d+"-"+l]=k/a.wh_h[c])}}else 7!=a.size1[c]&&(g=d["sizex_"+a.d+"-"+l]*a.wh_w[c],k=d["sizey_"+a.d+"-"+l]*a.wh_h[c],a.bk_width[c]=g,a.bk_width[b]=g,a.bk_height[c]=
k,a.bk_height[b]=k)}
function wb3d_set_top_left(a,d,e,b,c,f,h,g,l,r,m,v,p,u){if(1!=u&&12!==a.size1[c]&&"layer2"!==f){a.tl_l[c]=a.wb3d_ax[p];a.tl_t[c]=a.wb3d_ax[p];1<=d["P_s"+a.d]&&(a.tl_t[c]=a.wb3d_ay[p]);var q=d["PX_"+a.d],n=d["PY_"+a.d];u=1;if(0==a.U_P[e+"-"+h+"-"+g]||void 0==a.U_P[e+"-"+h+"-"+g])u=0,d["PY2_"+a.d]=d["PY_"+a.d];else{var k=a.U_P[e+"-"+h+"-"+g].split("-")[0];var A=a.U_P[e+"-"+h+"-"+g].split("-")[1];var x=a.dataslide[e][a.los[e+"-"+h]][a.lo_l[e+"-"+h+"-"+k]];d["PY2_"+a.d]=x["PY_"+a.d]+d["PY_"+a.d];if(0==
m)var y=b.split("-")[0]+"-"+k;else y=b.split("-"),y=y[0]+"-"+y[1]+"-"+y[2]+"-"+y[3]+"-"+k;k=a.wb3d_id[y+"-"+A]}if("main"===wb3d.flag&&0===m){var z=q;var w=n}else{var t=d["A_l"+a.d];var B=d["A_t"+a.d];0===t?z=q*a.tl_l[c]:0==u?1===t?(q=a.setting[e]["w_"+a.d]/2-(d["PX_"+a.d]+d["sizex_"+a.d+"-"+l]/2),0==d["P_s"+a.d]?(t=a.setting[e]["w_"+a.d]*a.wb3d_ax[p]/2,z=t-q*a.wb3d_ax[p]-a.bk_width[b]/2):(t=window.innerWidth/2,z=t-q*window.innerWidth/a.setting[e]["w_"+a.d]-a.bk_width[b]/2)):2===t&&(q=a.setting[e]["w_"+
a.d]-(d["PX_"+a.d]+d["sizex_"+a.d+"-"+l]),0==d["P_s"+a.d]?(t=a.setting[e]["w_"+a.d]*a.wb3d_ax[p],z=t-q*a.wb3d_ax[p]-a.bk_width[b]):(t=window.innerWidth,z=t-q*window.innerWidth/a.setting[e]["w_"+a.d]-a.bk_width[b])):1===t?(q=x["sizex_"+a.d+"-"+A]/2-(d["PX_"+a.d]+d["sizex_"+a.d+"-"+l]/2),t=a.bk_width[y]/2,z=t-q*a.wh_w[k]-a.bk_width[b]/2):2===t&&(q=x["sizex_"+a.d+"-"+A]-(d["PX_"+a.d]+d["sizex_"+a.d+"-"+l]),t=a.bk_width[y],z=t-q*a.wh_w[k]-a.bk_width[b]);0===B||0==u&&0==d["P_s"+a.d]?(w=n*a.tl_t[c],1==
u&&0!=m&&(w=n*a.wh_h[k])):0==u?1===B?(q=a.setting[e]["h_"+a.d]/2-(d["PY_"+a.d]+d["sizey_"+a.d+"-"+l]/2),t=a.setting[e]["h_"+a.d]*a.wb3d_ay[p]/2,w=t-q*a.wb3d_ay[p]-a.bk_height[b]/2):2===B&&(q=a.setting[e]["h_"+a.d]-(d["PY_"+a.d]+d["sizey_"+a.d+"-"+l]),t=a.setting[e]["h_"+a.d]*a.wb3d_ay[p],w=t-q*a.wb3d_ay[p]-a.bk_height[b]):1===B?(q=x["sizey_"+a.d+"-"+A]/2-(d["PY_"+a.d]+d["sizey_"+a.d+"-"+l]/2),t=a.bk_height[y]/2,w=t-q*a.wh_h[k]-a.bk_height[b]/2):2===B&&(q=x["sizey_"+a.d+"-"+A]-(d["PY_"+a.d]+d["sizey_"+
a.d+"-"+l]),t=a.bk_height[y],w=t-q*a.wh_h[k]-a.bk_height[b])}"main"===wb3d.flag&&0===m&&(a.bk_top3[b]=0);1!=a.flag_bl2[p]||"main"===wb3d.flag&&0===m||1==a.flag_bl2[c]||0!=d["P_s"+a.d]||0!=a.U_P[e+"-"+h+"-"+g]||(wb3d_setObj_position(a.dataslide[e][a.los[e+"-"+h]][0],d,r,b,c),a.flag_bl2[c]=1);k=0===m&&"main"!=wb3d.flag?a.deltaY[a.cu]:0;x=0!=m?a.setting[e]["h_"+a.d]*a.wh3[p]:a.setting[e]["h_"+a.d]*a.wb3d_ay[p];n=1-d["B_"+a.d];A=1-d["E_"+a.d];0!=d["P_s"+a.d]?(a.scY1[b]=Math.ceil(n*x+k),a.scY2[b]=Math.ceil(A*
x+k)):(n=a.bk_top3["A"+b]+(x*n-x)+k,1==u&&(n=a.bk_top3["A"+y]+n),a.scY1[b]=Math.ceil(n+wb3d_set_scr_objs(a,d["PY2_"+a.d],c,1)),n=a.bk_top3["A"+b]+(x*A-x)+k,1==u&&(n=a.bk_top3["A"+y]+n),a.scY2[b]=Math.ceil(n+wb3d_set_scr_objs(a,d["PY2_"+a.d]-d["E_"+a.d]*x,c,2)));0===d["B_"+a.d]&&(a.scY1[b]=0);if(a.bk_t_l[c]!=z+"-"+w+"-"+a.bk_top3[b]&&void 0!=a.idc[c]&&"mouse"!=f&&"slide"!=f&&("wb3d"===d["type_"+l]&&("main"!=wb3d.flag?0==a.U_P[e+"-"+h+"-"+g]?a.top0wb3d[v+"_"+c]=w+a.bk_top3[b]+k:(f=a.U_P[e+"-"+h+"-"+
g].split("-"),a.top0wb3d[v+"_"+c]=a.bk_top3["A0_"+h+"-"+f[0]]):a.top0wb3d[v+"_"+c]=d["PY2_"+a.d]),a.bk_t_l2[c]!=z+"-"+w+"-"+Math.ceil(a.bk_top3[b]))){for(f=0;f<d.layer_obj;f++)v=d["obj_num_"+f],c=a.wb3d_id[b+"-"+v],2!=d["relative_"+v]&&(a.idc[c].style.left=z+"px",a.idc[c].style.top="main"===wb3d.flag&&0===m?w+"px":Math.ceil(w+Math.ceil(a.bk_top3[b]))+"px"),a.bk_top2[b]=w+a.bk_top3[b],a.bk_left2[b]=z,a.bk_t_l2[c]=z+"-"+w+"-"+Math.ceil(a.bk_top3[b]);a.bk_top3["A"+b]=Math.ceil(w+Math.ceil(a.bk_top3[b]));
a.bk_top3["B"+b]=z}0!=a.flag_bl2[p]||"main"===wb3d.flag&&0==m?1!=a.flag_bl2[p]||"main"===wb3d.flag&&0==m||0===a.U_P[e+"-"+h+"-"+g]&&0===d["P_s"+a.d]&&a.bk_top2[b]+a.bk_height[b]>a.max_top[p]&&(a.max_top[p]=a.bk_top2[b]+a.bk_height[b]):0!=a.U_P[e+"-"+h+"-"+g]&&(c=a.U_P[e+"-"+h+"-"+g].split("-")[0],d=a.U_P[e+"-"+h+"-"+g].split("-")[1],0===a.U_P[e+"-"+h+"-"+c]&&(c=a.dataslide[e][a.los[e+"-"+h]][a.lo_l[e+"-"+h+"-"+c]],1==c["auto_height_"+d]&&a.bk_height[b]+a.bk_top2[b]+c["buttom_"+d]>a.h[a.wb3d_id[r+
"-"+a.U_P[e+"-"+h+"-"+g]]]&&(a.chenge_details_obj[a.wb3d_id[r+"-"+a.U_P[e+"-"+h+"-"+g]]]=-1,a.h[a.wb3d_id[r+"-"+a.U_P[e+"-"+h+"-"+g]]]=a.bk_height[b]+a.bk_top2[b]+c["buttom_"+d],a.panelTy[a.panelId2[a.wb3d_id[r+"-"+a.U_P[e+"-"+h+"-"+g]]]]=a.h[a.wb3d_id[r+"-"+a.U_P[e+"-"+h+"-"+g]]]-a.wb3d_ax[p]*c["sizey_"+a.d+"-"+d])))}}
wb3d_set_scr_objs=function(a,d,e,b){e=0;for(var c=[],f=0;300>f&&void 0!==a.wb3d[f]&&!(a.wb3dB[f]["PY2_"+a.d]>d)&&(a.wb3dB[f]["PY2_"+a.d]!=d||1!=b);f++)1===a.wb3dB[f]["vs_"+a.wb3dY[f]]&&void 0==c[a.wb3dB[f]["PY2_"+a.d]]&&(e+=Math.ceil(a.scrollMaxY[a.wb3d[f]]),c[a.wb3dB[f]["PY2_"+a.d]]=1);return e};
function wb3d_set_scrollMaxY(a,d,e,b,c){a.flag_bl2[d]++;var f;if(0===e){if("main"!=wb3d.flag){document.getElementById("wb3dh_0").offsetHeight<a.max_top[d]&&(document.getElementById("wb3dh_0").style.height=a.max_top[d]+"px","main"!=wb3d.flag&&(document.getElementById("wb3d_0").style.height=a.max_top[d]+"px"));e=document.body;var h=document.documentElement;a.scrollMaxY[d]=Math.max(e.scrollHeight,e.offsetHeight,h.clientHeight,h.scrollHeight,h.offsetHeight)-window.innerHeight;if(0<b)for(e=0;e<b;e++)a.scrollMaxY[e+
"_0"]=a.scrollMaxY[d]}else a.scrollMaxY[d]=0;a.MaXvscroll=0;d=[];if("main"!=wb3d.flag)for(f=0;300>f&&void 0!==a.wb3d[f];f++)1===a.wb3dB[f]["vs_"+a.wb3dY[f]]&&void 0!=a.scrollMaxY[a.wb3d[f]]&&1!=d[a.wb3dB[f]["PY2_"+a.d]]&&(a.MaXvscroll+=a.scrollMaxY[a.wb3d[f]]),d[a.wb3dB[f]["PY2_"+a.d]]=1;a.bk_vscroll_id1=[];a.bk_vscroll_id2=[];h="main"!=wb3d.flag?window.innerHeight:a.setting[c]["h_"+a.d];d=[];for(c=0;300>c;c++){e=b=0;if(void 0===a.wb3d[c])break;1===a.wb3dB[c]["vs_"+a.wb3dY[f]]&&(e=Math.ceil(a.wb3dB[c]["mt"+
a.d+"_"+a.wb3dY[c]]/100*h));for(f=0;300>f;f++)if(void 0===a.wb3d[f]||a.wb3d[f]===a.wb3d[c]){a.vscrollS[a.wb3d[c]]=void 0===d[a.wb3dB[f]["PY2_"+a.d]]?Math.ceil(a.top0wb3d[a.wb3d[c]])-e+b+a.deltaY[0]:Math.ceil(a.top0wb3d[a.wb3d[c]])-e+b+a.deltaY[0]-d[a.wb3dB[f]["PY2_"+a.d]];break}else 1===a.wb3dB[f]["vs_"+a.wb3dY[f]]&&(b+=Math.ceil(a.scrollMaxY[a.wb3d[f]]),d[a.wb3dB[f]["PY2_"+a.d]]=Math.ceil(a.scrollMaxY[a.wb3d[f]]))}}}
function wb3d_set_scrollMaxY2(a,d,e,b,c,f){1>=a.flag_bl2[d]&&(a.flag_bl2[d]++,a.scrollMaxY[d]=Math.ceil(a.max_top[d]-a.setting[c]["h_"+a.d]*a.wb3d_ay[d]),0>a.scrollMaxY[d]&&(a.scrollMaxY[d]=0),0!=e&&(a.vscroll[d]=0,a.vscrollM[d]=0),a.flag_bl2["0_0"]=0)};